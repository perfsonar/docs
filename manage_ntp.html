
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>Configuring NTP &#8212; perfSONAR Toolkit 5.0.2 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/classic.css" />
    <link rel="stylesheet" href="_static/perfsonar.css" type="text/css" />
    
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/sphinx_highlight.js"></script>
    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Reading Log Files" href="manage_logs.html" />
    <link rel="prev" title="Updating Administrative Information" href="manage_admin_info.html" />
	<!-- Google tag (gtag.js) -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=G-52RNZ729B1"></script>
	<script>
		window.dataLayer = window.dataLayer || [];
		function gtag(){dataLayer.push(arguments);}
		gtag('js', new Date());
		gtag('config', 'G-52RNZ729B1');
	</script>
	 

  </head><body>
    <header>
        <div class="headerContents">
          <a href="index.html" border="0"><img src="_static/perfsonar-logo-black-full-100.png"></a>
          <div class="acctSearchContainer">
              <section id="searchBox" class="searchBox">
                  <!--Use of this code assumes agreement with the Google Custom Search Terms of Service. -->
                  <!--The terms of service are available at http://www.google.com/cse/docs/tos.html -->
                  <form action="search.html" id="cse-search-box" method="get">
                    <input type="text" name="q" size="25" class="searchInput" placeholder="Search"/>
                    <input type="hidden" name="check_keywords" value="yes" />
                    <input type="hidden" name="area" value="default" />
                  </form>
              </section>
         </div>
        </div>
    </header>
    <div style="display:block;clear:both;">
    
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="manage_logs.html" title="Reading Log Files"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="manage_admin_info.html" title="Updating Administrative Information"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">perfSONAR Toolkit 5.0.2 documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Configuring NTP</a></li> 
      </ul>
    </div>
    </div>
    
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="configuring-ntp">
<h1>Configuring NTP<a class="headerlink" href="#configuring-ntp" title="Permalink to this heading">¶</a></h1>
<p>For perfSONAR tests to work correctly, it is critical that the Network Time Protocol (NTP) be configured properly. Almost all the measurements require an accurate system clock to calculate time-based metrics. Failure to have a synced clock can lead to unexpected results such as negative latency values. It is recommended to sync with <strong>4-5 servers (not more)</strong>, and that they all be fairly <strong>close in proximity (less than 20ms RTT)</strong>. The perfSONAR web interface provides a convenient way to configure NTP. It allows you to select time servers using the following methods:</p>
<ol class="arabic simple">
<li><p>By default the perfSONAR Toolkit will select the five closest known servers (perfSONAR ships with a known list of NTP servers). For details on refreshing this selection see <a class="reference internal" href="#manage-ntp-closest"><span class="std std-ref">Selecting the Closest Servers</span></a>.</p></li>
<li><p>You may also manually select servers from the list of known NTP servers as detailed in <a class="reference internal" href="#manage-ntp-known"><span class="std std-ref">Manually Selecting a Known Server</span></a>.</p></li>
<li><p>Finally, you may manually define servers not in the default list as detailed in <a class="reference internal" href="#manage-ntp-manual"><span class="std std-ref">Manually Adding a Server</span></a>.</p></li>
</ol>
<dl class="simple">
<dt>If your network can not connect to enough close servers, you’ll want to identify some additional close NTP servers. Talk to your network administrator to see what NTP servers are typically used at your site, or look here for a nearby server:</dt><dd><ul class="simple">
<li><p><a class="reference external" href="http://support.ntp.org/bin/view/Servers/StratumOneTimeServers">http://support.ntp.org/bin/view/Servers/StratumOneTimeServers</a></p></li>
<li><p><a class="reference external" href="https://support.ntp.org/bin/view/Servers/StratumTwoTimeServers">https://support.ntp.org/bin/view/Servers/StratumTwoTimeServers</a></p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><a class="reference external" href="http://www.pool.ntp.org">www.pool.ntp.org</a> servers are not typically accurate enough for perfSONAR’s requirements, and should be avoided.</p>
</div>
<p>More details on NTP can be found at <a class="reference internal" href="ntp_overview.html"><span class="doc">NTP Overview</span></a>.</p>
<section id="accessing-the-ntp-interface">
<span id="manage-ntp-access"></span><h2>Accessing the NTP Interface<a class="headerlink" href="#accessing-the-ntp-interface" title="Permalink to this heading">¶</a></h2>
<ol class="arabic">
<li><p>Open <strong>http://&lt;hostname&gt;</strong> in your browser where <strong>&lt;hostname&gt;</strong> is the name of your toolkit host.</p></li>
<li><p>Click on <strong>Edit</strong> (A) in the host information section of the main page or <strong>Configuration</strong> (B) button in the right-upper corner and login as the web administrator user created during installation.</p>
<blockquote>
<div><img alt="_images/manage_ntp-configure-icon.png" src="_images/manage_ntp-configure-icon.png" />
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>See <a class="reference internal" href="manage_users.html"><span class="doc">Managing Users</span></a> for more details on creating a web administrator account.</p>
</div>
</div></blockquote>
</li>
<li><p>In the page that loads select <strong>Host</strong> tab to access NTP configuration. Section <strong>NTP Servers</strong> in the page that loads can be used to manage NTP. See the remainder of this document for details on using this interface.</p>
<blockquote>
<div><img alt="_images/manage_ntp-overview.png" src="_images/manage_ntp-overview.png" />
</div></blockquote>
</li>
</ol>
</section>
<section id="selecting-the-closest-servers">
<span id="manage-ntp-closest"></span><h2>Selecting the Closest Servers<a class="headerlink" href="#selecting-the-closest-servers" title="Permalink to this heading">¶</a></h2>
<ol class="arabic">
<li><p>In order to refresh and select the closest NTP servers, go to the <strong>NTP Servers</strong> section and click <strong>Select the closest servers</strong></p>
<blockquote>
<div><img alt="_images/manage_ntp-select-closest-wait.png" src="_images/manage_ntp-select-closest-wait.png" />
</div></blockquote>
</li>
<li><p>After a loading screen you should see a possibly new list of selected servers. Note that by default perfSONAR selects the closest servers so it is possible this list will remain unchanged.</p></li>
<li><p>Click <strong>Save</strong> to apply your changes. Green message appears to confirm successful configuration change.</p></li>
</ol>
</section>
<section id="manually-selecting-a-known-server">
<span id="manage-ntp-known"></span><h2>Manually Selecting a Known Server<a class="headerlink" href="#manually-selecting-a-known-server" title="Permalink to this heading">¶</a></h2>
<ol class="arabic">
<li><p>In order to manually select a known NTP server available in a list of known servers, go to the <strong>NTP Servers</strong> section and click on the list of servers area.</p>
<blockquote>
<div><img alt="_images/manage_ntp-select-known-area.png" src="_images/manage_ntp-select-known-area.png" />
</div></blockquote>
</li>
<li><p>A list of NTP servers opens. Select the servers you’d like to use (highlighted in blue). Other servers already selected in a list are highlighted in grey. Use <em>Ctrl</em> and <em>Shift</em> keys to select multiple servers at once. Selected servers will immediately be added to the list. Also, be sure to recall previously mentioned guidelines about good NTP server selection (4-5 servers less than 20ms RTT away).</p>
<blockquote>
<div><img alt="_images/manage_ntp-select-known-list.png" src="_images/manage_ntp-select-known-list.png" />
</div></blockquote>
</li>
<li><p>Instead of selecting from the list of know servers you may simply click on the list of servers area and start writing the NTP server hostname or its description (A). Matching servers will automatically appear as available selections in the list below (B).</p>
<blockquote>
<div><img alt="_images/manage_ntp-select-known-write.png" src="_images/manage_ntp-select-known-write.png" />
</div></blockquote>
</li>
<li><p>Click <strong>Save</strong> to apply your changes. Green message appears to confirm successful configuration change.</p></li>
</ol>
</section>
<section id="manually-adding-a-server">
<span id="manage-ntp-manual"></span><h2>Manually Adding a Server<a class="headerlink" href="#manually-adding-a-server" title="Permalink to this heading">¶</a></h2>
<ol class="arabic">
<li><p>In order to manually add an NTP server not yet available in a list of known servers, go to the <strong>NTP Servers</strong> section, click <strong>Manage available NTP servers</strong></p>
<blockquote>
<div><img alt="_images/manage_ntp-manage-area.png" src="_images/manage_ntp-manage-area.png" />
</div></blockquote>
</li>
<li><p>In the windows that opens enter the address and a human-readable description of the NTP server and click <strong>Add server</strong>.</p>
<blockquote>
<div><img alt="_images/manage_ntp-add-new-server.png" src="_images/manage_ntp-add-new-server.png" />
</div></blockquote>
</li>
<li><p>The new server is added to the list of known NTP servers. You may add more servers if needed. When finished click <strong>OK</strong> to accept the current list of NTP servers.</p>
<blockquote>
<div><img alt="_images/manage_ntp-add-new-server-added.png" src="_images/manage_ntp-add-new-server-added.png" />
</div></blockquote>
</li>
<li><p>The new NTP server is also automatically added to the list of currently used servers. Click <strong>OK</strong> to confirm your changes and <strong>Save</strong> to apply all changes to the system. Green message appears to confirm successful configuration change.</p></li>
</ol>
</section>
<section id="deselecting-a-server">
<span id="manage-ntp-remove"></span><h2>Deselecting a Server<a class="headerlink" href="#deselecting-a-server" title="Permalink to this heading">¶</a></h2>
<p>If you wish to deselect a server so that it remains in the known servers list but is not actively used to sync the clock then perform the following steps:</p>
<ol class="arabic">
<li><p>In the <strong>NTP Servers</strong> section, click <strong>x</strong> symbol next to the server you want to deselect. As a result the list no longer contains your NTP server.</p>
<blockquote>
<div><img alt="_images/manage_ntp-deselect-server.png" src="_images/manage_ntp-deselect-server.png" />
</div></blockquote>
</li>
<li><p>Click <strong>Save</strong> to apply your changes. Green message appears to confirm successful configuration change.</p></li>
</ol>
</section>
<section id="deleting-a-known-server">
<span id="manage-ntp-delete-known"></span><h2>Deleting a Known Server<a class="headerlink" href="#deleting-a-known-server" title="Permalink to this heading">¶</a></h2>
<p>You may wish to permanently remove a server from the list of known servers. This removes it from consideration for closest server entirely and prevents accidental selection of the server by removing it from the list entirely. This task may be executed with the following steps:</p>
<ol class="arabic">
<li><p>In the <strong>NTP Servers</strong> section, click <strong>Manage available NTP servers</strong></p>
<blockquote>
<div><img alt="_images/manage_ntp-manage-area.png" src="_images/manage_ntp-manage-area.png" />
</div></blockquote>
</li>
<li><p>A list of NTP servers loads. Click <strong>Delete x</strong> next to the server you wish to remove from the list. As a result the list no longer contains your NTP server.</p>
<blockquote>
<div><img alt="_images/manage_ntp-delete-known-server.png" src="_images/manage_ntp-delete-known-server.png" />
</div></blockquote>
</li>
<li><p>Click <strong>OK</strong> to accept changes and then <strong>Save</strong> to apply your changes to the system. Green message appears to confirm successful configuration change.</p></li>
</ol>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <nav id="channelNav" class="channelNav">
                
                <ul>
<li><a class="reference internal" href="#">Configuring NTP</a><ul>
<li><a class="reference internal" href="#accessing-the-ntp-interface">Accessing the NTP Interface</a></li>
<li><a class="reference internal" href="#selecting-the-closest-servers">Selecting the Closest Servers</a></li>
<li><a class="reference internal" href="#manually-selecting-a-known-server">Manually Selecting a Known Server</a></li>
<li><a class="reference internal" href="#manually-adding-a-server">Manually Adding a Server</a></li>
<li><a class="reference internal" href="#deselecting-a-server">Deselecting a Server</a></li>
<li><a class="reference internal" href="#deleting-a-known-server">Deleting a Known Server</a></li>
</ul>
</li>
</ul>

                <ul>
                  <li>
                  <a href="manage_admin_info.html">Previous topic</a>
                  <ul><li><a href="manage_admin_info.html" title="previous chapter">Updating Administrative Information</a></li></ul>
                  </li>
                </ul>
                  <ul>
                      <li>
                      <a href="manage_logs.html">Next topic</a>
                      <ul><li><a href="manage_logs.html" title="next chapter">Reading Log Files</a></li></ul>
                      </li>
                  </ul>
                
                
            </nav>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="manage_logs.html" title="Reading Log Files"
             >next</a> |</li>
        <li class="right" >
          <a href="manage_admin_info.html" title="Updating Administrative Information"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">perfSONAR Toolkit 5.0.2 documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Configuring NTP</a></li> 
      </ul>
    </div>
    <footer id="fat">
        <div class="footerContents">
            <nav id="fatFooterNav" class="fatFooterNav">
                <ul id="menu-partners" class="menu depth-0">
                    <li id="footer-partner-text" class="partner-menu">
                        perfSONAR 
                        <br>
                        partners 
                        <br>
                        include: 
                    </li>
    
                <li id="footer-partner-esnet" class="partner-menu">
                    <a href="http://www.es.net/" title="Visit DOE's Energy Sciences Network"><img src="_static/ESnet-ps.png" alt="" style="border:none;"></a> </li>
                
                <li id="footer-partner-geant" class="partner-menu">
                    <a href="http://www.geant.org/" title="Visit GEANT"><img src="_static/geant-ps.png" alt="" style="border:none;"/></a> </li>
        
                <li id="footer-partner-iu" class="partner-menu">
                    <a href="http://www.iu.edu/" title="Visit Indiana University"><img src="_static/IU-ps.png" alt="" style="border:none;"></a> </li>

                <li id="footer-partner-i2" class="partner-menu">
                    <a href="http://www.internet2.edu/" title="Visit Internet2"><img src="_static/I2-ps.png" alt="" style="border:none;"></a> </li>
					
				<li id="footer-partner-rnp" class="partner-menu">
                    <a href="https://www.rnp.br/en" title="Visit RNP"><img src="_static/rnp.png" alt="" style="border:none;"></a> </li>
                
                <li id="footer-partner-um" class="partner-menu">
                    <a href="http://www.umich.edu/" title="Visit University of Michigan"><img src="_static/UM-ps.png" alt="" style="border:none;"></a> </li>

                </ul>

            </nav>
            <nav id="minFooterNav" class="minFooterNav">
                <span class="copyright">PERFormance Service Oriented Network monitoring ARchitecture </span>
            </nav>
          
        </div> <!-- /footerContents -->
    </footer>
    
    <div class="footer" role="contentinfo">
        &#169; Copyright 2023, perfSONAR Project.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 6.1.3.
    </div>
  </body>
</html>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Reading a Central Configuration File with MeshConfig &mdash; perfSONAR Toolkit 4.0.2 documentation</title>
    
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/perfsonar.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '4.0.2',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="shortcut icon" href="_static/favicon.ico"/>
    <link rel="top" title="perfSONAR Toolkit 4.0.2 documentation" href="index.html" />
    <link rel="next" title="Automatic Test Configuration with MeshConfig" href="multi_mesh_autoconfig.html" />
    <link rel="prev" title="Publishing a Central Configuration File with MeshConfig" href="multi_mesh_server_config.html" /> 
  </head>
  <body role="document">
    <header>
        <div class="headerContents">
          <a href="index.html" border="0"><img src="_static/perfSONAR-header.gif"></a>
          <div class="acctSearchContainer">
              <section id="searchBox" class="searchBox">
                  <!--Use of this code assumes agreement with the Google Custom Search Terms of Service. -->
                  <!--The terms of service are available at http://www.google.com/cse/docs/tos.html -->
                  <form action="search.html" id="cse-search-box" method="get">
                    <input type="text" name="q" size="25" class="searchInput" placeholder="Search"/>
                    <input type="hidden" name="check_keywords" value="yes" />
                    <input type="hidden" name="area" value="default" />
                  </form>
              </section>
         </div>
        </div>
    </header>
    <div style="display:block;clear:both;">
    
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="multi_mesh_autoconfig.html" title="Automatic Test Configuration with MeshConfig"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="multi_mesh_server_config.html" title="Publishing a Central Configuration File with MeshConfig"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">perfSONAR Toolkit 4.0.2 documentation</a> &raquo;</li> 
      </ul>
    </div>
    </div>
    
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="reading-a-central-configuration-file-with-meshconfig">
<h1>Reading a Central Configuration File with MeshConfig<a class="headerlink" href="#reading-a-central-configuration-file-with-meshconfig" title="Permalink to this headline">¶</a></h1>
<p>Participating in a centrally configured mesh  is a matter of the following:</p>
<blockquote>
<div><ol class="arabic simple">
<li><a class="reference internal" href="#multi-agent-config-find"><span>Finding</span></a> a mesh in which you want to participate</li>
<li><a class="reference internal" href="#multi-agent-config-config"><span>Editing</span></a> a file on your perfSONAR Toolkit with the URL of the central configuration file(s) you wish to use.</li>
</ol>
</div></blockquote>
<div class="section" id="finding-a-test-mesh">
<span id="multi-agent-config-find"></span><h2>Finding a Test Mesh<a class="headerlink" href="#finding-a-test-mesh" title="Permalink to this headline">¶</a></h2>
<p>Currently finding centrally configured meshes in which to participate is largely an out-of-band process. You will need to obtain a URL to a configuration file in order to participate. It is possible to simultaneously participate in multiple meshes (a well as <a class="reference internal" href="manage_regular_tests.html"><em>manually</em></a> define your own tests) so don&#8217;t feel like you are limited by what&#8217;s in a single mesh configuration file.</p>
<p>The best way to discover meshes is to talk to others you test with (or would like to test with) to see if they are participating in any meshes. If not, it may be worth <a class="reference internal" href="multi_mesh_server_config.html"><em>creating one</em></a>. If you do find a mesh in which you&#8217;d like to participate, be sure to talk to the administrator of the file. It&#8217;s not only polite, but you cannot use that file to generate tests with the MeshConfig software unless they add the address(es) of your host(s)!</p>
</div>
<div class="section" id="configuring-a-host-to-participate-in-a-mesh">
<span id="multi-agent-config-config"></span><h2>Configuring a Host To Participate in a Mesh<a class="headerlink" href="#configuring-a-host-to-participate-in-a-mesh" title="Permalink to this headline">¶</a></h2>
<p>Once you have the URL(s) you would like to use for you mesh configuration file, you simply need to add it to a <em>mesh</em> block in <a class="reference internal" href="config_files.html#config-files-meshconfig-conf-agent"><span>agent_configuration.conf</span></a>. In this block you can define the URL as follows:</p>
<div class="highlight-python"><div class="highlight"><pre>&lt;mesh&gt;
    configuration_url             https://host.otherdomain.edu/mesh.json
&lt;/mesh&gt;
</pre></div>
</div>
<p>Additionally if a mesh config is hosted by a server running https you can add further options to validate the certificate. This ensures the server you are talking to is the one you expect and is recommended in most cases. The options to do this are <em>ca_certificate_file</em> containing a path to a certificate bundle used to verify the server&#8217;s certificate and the <em>validate_certificate</em>. The latter option not only validates <em>ca_certificate_file</em> against the server but also verifies information such as the hostname matches the certificate distinguished name. An example is shown below:</p>
<div class="highlight-python"><div class="highlight"><pre>&lt;mesh&gt;
    configuration_url            https://host.otherdomain.edu/mesh.json
    validate_certificate         1
    ca_certificate_file          /etc/pki/tls/bundle.crt
&lt;/mesh&gt;
</pre></div>
</div>
<p>You may add multiple mesh blocks to the file to participate in multiple meshes. Also note that any <a class="reference internal" href="manage_regular_tests.html"><em>manually</em></a> defined tests will remain intact. See the agent configuration section of <a class="reference internal" href="config_mesh.html"><em>Mesh Configuration (.conf) file</em></a> for more details on options in this file.</p>
<p>Your regular tests will be updated hourly by the perfsonar-meshconfig-agent daemon.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <nav id="channelNav" class="channelNav">
                
                <ul>
<li><a class="reference internal" href="#">Reading a Central Configuration File with MeshConfig</a><ul>
<li><a class="reference internal" href="#finding-a-test-mesh">Finding a Test Mesh</a></li>
<li><a class="reference internal" href="#configuring-a-host-to-participate-in-a-mesh">Configuring a Host To Participate in a Mesh</a></li>
</ul>
</li>
</ul>

                <ul>
                  <li>
                  <a href="multi_mesh_server_config.html">Previous topic</a>
                  <ul><li><a href="multi_mesh_server_config.html" title="previous chapter">Publishing a Central Configuration File  with MeshConfig</a></li></ul>
                  </li>
                </ul>
                  <ul>
                      <li>
                      <a href="multi_mesh_autoconfig.html">Next topic</a>
                      <ul><li><a href="multi_mesh_autoconfig.html" title="next chapter">Automatic Test Configuration with MeshConfig</a></li></ul>
                      </li>
                  </ul>
                
                
            </nav>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="multi_mesh_autoconfig.html" title="Automatic Test Configuration with MeshConfig"
             >next</a> |</li>
        <li class="right" >
          <a href="multi_mesh_server_config.html" title="Publishing a Central Configuration File with MeshConfig"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">perfSONAR Toolkit 4.0.2 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <footer id="fat">
        <div class="footerContents">
            <nav id="fatFooterNav" class="fatFooterNav">
                <ul id="menu-partners" class="menu depth-0">
                    <li id="footer-partner-text" class="partner-menu">
                        perfSONAR 
                        <br>
                        partners 
                        <br>
                        include: 
                    </li>
    
                <li id="footer-partner-esnet" class="partner-menu">
                    <a href="http://www.es.net/" title="Visit DOE's Energy Sciences Network"><img src="_static/ESnet-ps.png" alt="" style="border:none;"></a> </li>
                
                <li id="footer-partner-geant" class="partner-menu">
                    <a href="http://www.geant.org/" title="Visit GEANT"><img src="_static/geant-ps.png" alt="" style="border:none;"/></a> </li>
        
                <li id="footer-partner-iu" class="partner-menu">
                    <a href="http://www.iu.edu/" title="Visit Indiana University"><img src="_static/IU-ps.png" alt="" style="border:none;"></a> </li>

                <li id="footer-partner-i2" class="partner-menu">
                    <a href="http://www.internet2.edu/" title="Visit Internet2"><img src="_static/I2-ps.png" alt="" style="border:none;"></a> </li>
                
                <li id="footer-partner-um" class="partner-menu">
                    <a href="http://www.umich.edu/" title="Visit University of Michigan"><img src="_static/UM-ps.png" alt="" style="border:none;"></a> </li>

                </ul>

            </nav>
            <nav id="minFooterNav" class="minFooterNav">
                <span class="copyright">PERFormance Service Oriented Network monitoring ARchitecture </span>
            </nav>
          
        </div> <!-- /footerContents -->
    </footer>
    
    <div class="footer" role="contentinfo">
        &copy; Copyright 2018, perfSONAR Project.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.1.
    </div>
  </body>
</html>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Running a pScheduler Server &mdash; perfSONAR Toolkit 4.2.0 documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/perfsonar.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '4.2.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="shortcut icon" href="_static/favicon.ico"/>
    <link rel="top" title="perfSONAR Toolkit 4.2.0 documentation" href="index.html" />
    <link rel="next" title="Configuring pScheduler Limits" href="config_pscheduler_limits.html" />
    <link rel="prev" title="Viewing the Schedule" href="pscheduler_client_schedule.html" /> 
  </head>
  <body>
    <header>
        <div class="headerContents">
          <a href="index.html" border="0"><img src="_static/perfSONAR-header.gif"></a>
          <div class="acctSearchContainer">
              <section id="searchBox" class="searchBox">
                  <!--Use of this code assumes agreement with the Google Custom Search Terms of Service. -->
                  <!--The terms of service are available at http://www.google.com/cse/docs/tos.html -->
                  <form action="search.html" id="cse-search-box" method="get">
                    <input type="text" name="q" size="25" class="searchInput" placeholder="Search"/>
                    <input type="hidden" name="check_keywords" value="yes" />
                    <input type="hidden" name="area" value="default" />
                  </form>
              </section>
         </div>
        </div>
    </header>
    <div style="display:block;clear:both;">
    
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="config_pscheduler_limits.html" title="Configuring pScheduler Limits"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="pscheduler_client_schedule.html" title="Viewing the Schedule"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">perfSONAR Toolkit 4.2.0 documentation</a> &raquo;</li> 
      </ul>
    </div>
    </div>
    
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="running-a-pscheduler-server">
<h1>Running a pScheduler Server<a class="headerlink" href="#running-a-pscheduler-server" title="Permalink to this headline">¶</a></h1>
<div class="section" id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>The pScheduler server is the component that does the heavy-lifting of scheduling and managing tasks.  It consists of multiple daemon processes and makes extensive use of <a class="reference external" href="https://www.postgresql.org">PostgreSQL</a>. This document describes basic usage of the server.</p>
</div>
<div class="section" id="daemons">
<h2>Daemons<a class="headerlink" href="#daemons" title="Permalink to this headline">¶</a></h2>
<p>pScheduler consists for four daemon processes that run as separate services. The four services are:</p>
<blockquote>
<div><ol class="arabic simple">
<li><strong>pscheduler-scheduler</strong> - This process is what puts new runs on the schedule or marks a run as a non-starter if it can not find an available slot.</li>
<li><strong>pscheduler-runner</strong> - This process is what executes runs on the schedule using the selected tool</li>
<li><strong>pscheduler-archiver</strong> - This process executes archiver plug-ins using the results of runs. Archivers generally send results to long-term storage or to applications for further processing.</li>
<li><strong>pscheduler-ticker</strong> - This process handles basic maintenance of pScheduler</li>
</ol>
</div></blockquote>
<p>These services can be started/stopped with <tt class="docutils literal"><span class="pre">systemctl</span></tt> or the <tt class="docutils literal"><span class="pre">service</span></tt> command depending on the operating system. For example:</p>
<blockquote>
<div><ul>
<li><p class="first">Using systemctl:</p>
<div class="highlight-python"><div class="highlight"><pre>systemctl start pscheduler-scheduler
systemctl start pscheduler-runner
systemctl start pscheduler-archiver
systemctl start pscheduler-ticker
</pre></div>
</div>
</li>
</ul>
</div></blockquote>
<p>In addition to these processes, it also requires Apache HTTPD and PostgreSQL daemons to be running. Apache provides the web server where pScheduler accepts REST API requests and PostgreSQL is where the schedule is stored. The name of these processes is dependent on the operating system:</p>
<blockquote>
<div><ul class="simple">
<li><strong>CentOS (all versions)</strong>: <tt class="docutils literal"><span class="pre">httpd</span></tt> and <tt class="docutils literal"><span class="pre">postgresql-9.5</span></tt></li>
<li><strong>Debian (all versions)</strong>: <tt class="docutils literal"><span class="pre">apache2</span></tt> and <tt class="docutils literal"><span class="pre">postgresql</span></tt></li>
</ul>
</div></blockquote>
</div>
<div class="section" id="logging">
<h2>Logging<a class="headerlink" href="#logging" title="Permalink to this headline">¶</a></h2>
<p>By default pScheduler logs to syslog facility <strong>local4</strong>. It sets-up rsyslogd to redirect all logging to the following file:</p>
<blockquote>
<div><ul class="simple">
<li>/var/log/pscheduler/pscheduler.log</li>
</ul>
</div></blockquote>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If you are using an alternative syslog implementation to rsyslogd then you will need to configure it to redirect local4 manually</p>
</div>
</div>
<div class="section" id="configuration">
<h2>Configuration<a class="headerlink" href="#configuration" title="Permalink to this headline">¶</a></h2>
<p>pScheduler has regular configuration files for configuring various aspects of the server. It also has a file for managing <a class="reference internal" href="pscheduler_intro.html#term-limits"><em class="xref std std-term">limits</em></a> of the server. For more information on both of these topics, see the pages below:</p>
<blockquote>
<div><ul class="simple">
<li><a class="reference internal" href="config_pscheduler.html"><em>Configuring pScheduler</em></a></li>
<li><a class="reference internal" href="config_pscheduler_limits.html"><em>Configuring pScheduler Limits</em></a></li>
</ul>
</div></blockquote>
</div>
<div class="section" id="pausing-and-resuming">
<h2>Pausing and Resuming<a class="headerlink" href="#pausing-and-resuming" title="Permalink to this headline">¶</a></h2>
<p>pScheduler can be directed to stop running tasks using the <tt class="docutils literal"><span class="pre">pause</span></tt>
command.  With no arguments, the pause will last indefinitely; with an
ISO 8601 duration (e.g., <tt class="docutils literal"><span class="pre">PT2H</span></tt>), the pause will last for the amount
of time specified.  Note that any runs in progress when this command
is executed will be allowed to run to completion.  Runs scheduled
while the system is paused will fail with a <tt class="docutils literal"><span class="pre">missed</span></tt> status.</p>
<p>The <tt class="docutils literal"><span class="pre">resume</span></tt> command will start runing tasks with the next one on
the schedule.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <nav id="channelNav" class="channelNav">
                
                <ul>
<li><a class="reference internal" href="#">Running a pScheduler Server</a><ul>
<li><a class="reference internal" href="#introduction">Introduction</a></li>
<li><a class="reference internal" href="#daemons">Daemons</a></li>
<li><a class="reference internal" href="#logging">Logging</a></li>
<li><a class="reference internal" href="#configuration">Configuration</a></li>
<li><a class="reference internal" href="#pausing-and-resuming">Pausing and Resuming</a></li>
</ul>
</li>
</ul>

                <ul>
                  <li>
                  <a href="pscheduler_client_schedule.html">Previous topic</a>
                  <ul><li><a href="pscheduler_client_schedule.html" title="previous chapter">Viewing the Schedule</a></li></ul>
                  </li>
                </ul>
                  <ul>
                      <li>
                      <a href="config_pscheduler_limits.html">Next topic</a>
                      <ul><li><a href="config_pscheduler_limits.html" title="next chapter">Configuring pScheduler Limits</a></li></ul>
                      </li>
                  </ul>
                
                
            </nav>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="config_pscheduler_limits.html" title="Configuring pScheduler Limits"
             >next</a> |</li>
        <li class="right" >
          <a href="pscheduler_client_schedule.html" title="Viewing the Schedule"
             >previous</a> |</li>
        <li><a href="index.html">perfSONAR Toolkit 4.2.0 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <footer id="fat">
        <div class="footerContents">
            <nav id="fatFooterNav" class="fatFooterNav">
                <ul id="menu-partners" class="menu depth-0">
                    <li id="footer-partner-text" class="partner-menu">
                        perfSONAR 
                        <br>
                        partners 
                        <br>
                        include: 
                    </li>
    
                <li id="footer-partner-esnet" class="partner-menu">
                    <a href="http://www.es.net/" title="Visit DOE's Energy Sciences Network"><img src="_static/ESnet-ps.png" alt="" style="border:none;"></a> </li>
                
                <li id="footer-partner-geant" class="partner-menu">
                    <a href="http://www.geant.org/" title="Visit GEANT"><img src="_static/geant-ps.png" alt="" style="border:none;"/></a> </li>
        
                <li id="footer-partner-iu" class="partner-menu">
                    <a href="http://www.iu.edu/" title="Visit Indiana University"><img src="_static/IU-ps.png" alt="" style="border:none;"></a> </li>

                <li id="footer-partner-i2" class="partner-menu">
                    <a href="http://www.internet2.edu/" title="Visit Internet2"><img src="_static/I2-ps.png" alt="" style="border:none;"></a> </li>
                
                <li id="footer-partner-um" class="partner-menu">
                    <a href="http://www.umich.edu/" title="Visit University of Michigan"><img src="_static/UM-ps.png" alt="" style="border:none;"></a> </li>

                </ul>

            </nav>
            <nav id="minFooterNav" class="minFooterNav">
                <span class="copyright">PERFormance Service Oriented Network monitoring ARchitecture </span>
            </nav>
          
        </div> <!-- /footerContents -->
    </footer>
    
    <div class="footer">
        &copy; Copyright 2019, perfSONAR Project.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.3.
    </div>
  </body>
</html>

<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>perfSONAR Frequently Asked Questions (FAQs) &#8212; perfSONAR Toolkit 4.4.5 documentation</title>
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/perfsonar.css" type="text/css" />
    
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/language_data.js"></script>
    
    <link rel="shortcut icon" href="_static/favicon.ico"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="perfSONAR Client Tools" href="client_tools.html" />
    <link rel="prev" title="Troubleshooting perfSONAR" href="troubleshooting_overview.html" />
	<!-- Google tag (gtag.js) -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=G-52RNZ729B1"></script>
	<script>
		window.dataLayer = window.dataLayer || [];
		function gtag(){dataLayer.push(arguments);}
		gtag('js', new Date());
		gtag('config', 'G-52RNZ729B1');
	</script>
	 

  </head><body>
    <header>
        <div class="headerContents">
          <a href="index.html" border="0"><img src="_static/perfSONAR-header.gif"></a>
          <div class="acctSearchContainer">
              <section id="searchBox" class="searchBox">
                  <!--Use of this code assumes agreement with the Google Custom Search Terms of Service. -->
                  <!--The terms of service are available at http://www.google.com/cse/docs/tos.html -->
                  <form action="search.html" id="cse-search-box" method="get">
                    <input type="text" name="q" size="25" class="searchInput" placeholder="Search"/>
                    <input type="hidden" name="check_keywords" value="yes" />
                    <input type="hidden" name="area" value="default" />
                  </form>
              </section>
         </div>
        </div>
    </header>
    <div style="display:block;clear:both;">
    
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="client_tools.html" title="perfSONAR Client Tools"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="troubleshooting_overview.html" title="Troubleshooting perfSONAR"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">perfSONAR Toolkit 4.4.5 documentation</a> &#187;</li> 
      </ul>
    </div>
    </div>
    
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="perfsonar-frequently-asked-questions-faqs">
<h1>perfSONAR Frequently Asked Questions (FAQs)<a class="headerlink" href="#perfsonar-frequently-asked-questions-faqs" title="Permalink to this headline">¶</a></h1>
<div class="contents local topic" id="topics">
<p class="topic-title first">Topics</p>
<ul class="simple">
<li><p><a class="reference internal" href="#installation-questions" id="id1">Installation Questions</a></p></li>
<li><p><a class="reference internal" href="#tool-questions" id="id2">Tool Questions</a></p></li>
<li><p><a class="reference internal" href="#host-and-network-administration-questions" id="id3">Host and Network Administration Questions</a></p></li>
<li><p><a class="reference internal" href="#perfsonar-archive-esmond-questions" id="id4">perfSONAR Archive (esmond) Questions</a></p></li>
<li><p><a class="reference internal" href="#perfsonar-project-questions" id="id5">perfSONAR Project Questions</a></p></li>
</ul>
</div>
<div class="section" id="installation-questions">
<h2><a class="toc-backref" href="#id1">Installation Questions</a><a class="headerlink" href="#installation-questions" title="Permalink to this headline">¶</a></h2>
<div class="section" id="q-what-are-the-hardware-requirements-for-running-the-perfsonar-toolkit">
<h3>Q: What are the hardware requirements for running the perfSONAR Toolkit?<a class="headerlink" href="#q-what-are-the-hardware-requirements-for-running-the-perfsonar-toolkit" title="Permalink to this headline">¶</a></h3>
<p><strong>A:</strong> See <a class="reference internal" href="install_hardware.html"><span class="doc">Hardware Requirements</span></a>.</p>
</div>
<div class="section" id="q-does-my-machine-have-to-meet-the-system-requirements">
<h3>Q: Does my machine have to meet the System Requirements?<a class="headerlink" href="#q-does-my-machine-have-to-meet-the-system-requirements" title="Permalink to this headline">¶</a></h3>
<p><strong>A:</strong> There is nothing on the perfSONAR Toolkit that will prevent systems that do not meet the requirements from starting. Erroneous or inaccurate behavior is possible if the hardware cannot support the measurement tools. Performance considerations do favor meeting or exceeding the minimum guidelines.</p>
</div>
<div class="section" id="q-the-services-screen-shows-many-services-in-the-non-running-state-when-first-started-what-is-wrong">
<h3>Q: The <em>Services</em> screen shows many services in the non-running state when first started, what is wrong?<a class="headerlink" href="#q-the-services-screen-shows-many-services-in-the-non-running-state-when-first-started-what-is-wrong" title="Permalink to this headline">¶</a></h3>
<p><strong>A:</strong> Services should start right away. It may be an indication of an installation problem. See <a class="reference internal" href="manage_logs.html"><span class="doc">Reading Log Files</span></a> for information on where to look for more information.</p>
</div>
<div class="section" id="q-i-do-not-see-my-service-in-the-directory-of-services-where-is-it">
<h3>Q: I do not see my service in the <a class="reference external" href="http://stats.es.net/ServicesDirectory/">directory of services</a>, where is it?<a class="headerlink" href="#q-i-do-not-see-my-service-in-the-directory-of-services-where-is-it" title="Permalink to this headline">¶</a></h3>
<p><strong>A:</strong> Much like DNS, the information that will populate the Lookup Service will take time to propagate. Please allow some time (e.g. a few hours) before your service will be fully visible. If it stil does not appear, you may want to look in <a class="reference internal" href="config_files.html#config-files-lsreg-logs-primary"><span class="std std-ref">lsregistrationdaemon.log</span></a> for errors.</p>
</div>
<div class="section" id="q-what-should-i-enter-for-the-communities-section-of-my-administrative-information-configuration">
<h3>Q: What should I enter for the <em>Communities</em> section of my <em>Administrative Information</em> configuration?<a class="headerlink" href="#q-what-should-i-enter-for-the-communities-section-of-my-administrative-information-configuration" title="Permalink to this headline">¶</a></h3>
<p><strong>A:</strong> The goal of <em>communities</em> is to help identify the types of tests and where they are being run by a perfSONAR measurement point. Think of this them as being similar to labels you assign to photos or music. Some examples of communities one might assign are:</p>
<ul class="simple">
<li><p>Internet2 - The tests run somehow connects the Internet2 backbone</p></li>
<li><p>LHC (CMS, ATLAS, etc.) - The host is part of the LHC deployment structure</p></li>
<li><p>eVLBI - The host is a part of the larger telescope community</p></li>
<li><p>MAX - A connector of member of the MAX gigapop</p></li>
<li><p>DOE-SC-LAB - US Department of Energy Office of Science Labs</p></li>
</ul>
<p>Communities are not required and are currently not strictly defined. Use your best judgement in defining them and try to pick communities that will help others determine if a measurement to your host would be beneficial when configuring their own tests.</p>
</div>
<div class="section" id="q-i-do-not-think-i-am-a-member-of-a-community-should-i-put-anything">
<h3>Q: I do not think I am a member of a community, should I put anything?<a class="headerlink" href="#q-i-do-not-think-i-am-a-member-of-a-community-should-i-put-anything" title="Permalink to this headline">¶</a></h3>
<p><strong>A:</strong> Communities are not required, but they allow other individuals and organizations to find and use your services. Assign a community if you think it will allow others to gain insight on whether running a test to your host is beneficial.</p>
</div>
<div class="section" id="q-how-do-i-disable-global-registration">
<h3>Q: How do I disable global registration?<a class="headerlink" href="#q-how-do-i-disable-global-registration" title="Permalink to this headline">¶</a></h3>
<p><strong>A:</strong> The following commands will stop, and disable, this service:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">systemctl</span> <span class="n">stop</span> <span class="n">perfsonar</span><span class="o">-</span><span class="n">lsregistrationdaemon</span>
<span class="n">systemctl</span> <span class="n">disable</span> <span class="n">perfsonar</span><span class="o">-</span><span class="n">lsregistrationdaemon</span>
</pre></div>
</div>
</div>
<div class="section" id="q-can-i-boot-from-a-usb-key-instead-of-a-dvd">
<h3>Q: Can I boot from a USB key instead of a DVD?<a class="headerlink" href="#q-can-i-boot-from-a-usb-key-instead-of-a-dvd" title="Permalink to this headline">¶</a></h3>
<p><strong>A:</strong> The perfSONAR Toolkit Netinstall and FullInstall images are capable of being installed on a USB stick instead of a DVD. To write these images to the media, we recommend using dd, such as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">dd</span> <span class="k">if</span><span class="o">=</span><span class="n">pS</span><span class="o">-</span><span class="n">Toolkit</span><span class="o">-</span><span class="n">VERSION</span><span class="o">-</span><span class="n">FullInstall</span><span class="o">-</span><span class="n">x86_64</span><span class="o">.</span><span class="n">iso</span> <span class="n">of</span><span class="o">=/</span><span class="n">dev</span><span class="o">/</span><span class="n">disk3</span>
</pre></div>
</div>
</div>
<div class="section" id="q-during-the-netinstall-i-see-errors-about-a-corrupt-file-being-downloaded-what-should-i-do">
<h3>Q: During the NetInstall, I see errors about a corrupt file being downloaded. What should I do?<a class="headerlink" href="#q-during-the-netinstall-i-see-errors-about-a-corrupt-file-being-downloaded-what-should-i-do" title="Permalink to this headline">¶</a></h3>
<p><strong>A:</strong> During the NetInstall, you may see some errors about a corrupt file being downloaded along with buttons like Reboot and Retry. This happens if it fails to download an RPM from a mirror, which can happen for numerous reasons. Usually, that error can be solved by hitting Retry. You may have to hit that multiple times depending on which mirrors the install is trying to download the RPM from.</p>
</div>
<div class="section" id="q-when-trying-a-clean-install-with-perfsonar-toolkit-the-system-doesn-t-recognize-any-disks-doesn-t-see-my-raid-controller-things-work-with-other-operating-systems-what-should-i-do">
<h3>Q: When trying a clean install with perfSONAR Toolkit, the system doesn’t recognize any disks/doesn’t see my RAID controller. Things work with other operating systems. What should I do?<a class="headerlink" href="#q-when-trying-a-clean-install-with-perfsonar-toolkit-the-system-doesn-t-recognize-any-disks-doesn-t-see-my-raid-controller-things-work-with-other-operating-systems-what-should-i-do" title="Permalink to this headline">¶</a></h3>
<p><strong>A:</strong> You can try one of the vanilla CentOS images at <a class="reference external" href="http:://www.centos.org">http:://www.centos.org</a> and then install the necessary packages via yum:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">yum</span> <span class="n">install</span> <span class="n">perfsonar</span><span class="o">-</span><span class="n">toolkit</span>
</pre></div>
</div>
<p>If that does not work, it sounds like an operating system issue and beyond the scope of perfSONAR.</p>
</div>
<div class="section" id="q-i-would-like-to-install-and-patch-perfsonar-boxes-behind-a-web-proxy-is-it-possible-to-specify-this-on-the-grub-command-line">
<h3>Q: I would like to install and patch perfsonar boxes behind a web proxy, is it possible to specify this on the grub command line?<a class="headerlink" href="#q-i-would-like-to-install-and-patch-perfsonar-boxes-behind-a-web-proxy-is-it-possible-to-specify-this-on-the-grub-command-line" title="Permalink to this headline">¶</a></h3>
<p><strong>A:</strong> Anaconda documentation indicates this grub parameter should do the trick:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">proxy</span><span class="o">=</span><span class="p">[</span><span class="n">protocol</span><span class="p">:</span><span class="o">//</span><span class="p">][</span><span class="n">username</span><span class="p">[:</span><span class="n">password</span><span class="p">]</span><span class="o">@</span><span class="p">]</span><span class="n">host</span><span class="p">[:</span><span class="n">port</span><span class="p">]</span>
</pre></div>
</div>
<p>Note that during a fresh network installation, Anaconda does install updates immediately (e.g. it wouldn’t use a version of an RPM from when the ISO was built), and doesn’t actually run any network services before the reboot.</p>
</div>
<div class="section" id="q-which-repository-addresses-will-be-used-to-get-updates-to-the-perfsonar-software">
<h3>Q: Which repository addresses will be used to get updates to the perfSONAR software?<a class="headerlink" href="#q-which-repository-addresses-will-be-used-to-get-updates-to-the-perfsonar-software" title="Permalink to this headline">¶</a></h3>
<p><strong>A:</strong> By default, the perfSONAR repo points at a mirror list hosted by software.internet2.edu. In this mirror list is linux.mirrors.es.net. In order to use the default configuration you will need to allow access to software.internet2.edu so you can grab the mirrorlist. After that, the packages can be downloaded from any of the sites listed which includes linux.mirrors.es.net, software.internet2.edu, and a few other places. You should be able to get away with just opening up access to software.internet2.edu (so it can get the mirror list) and linux.mirrors.es.net (so you can get the packages).
Those should be the only places you need as linux.mirrors.es.net also has a mirror for all the base CentOS packages.</p>
</div>
<div class="section" id="q-is-there-a-way-to-re-image-perfsonar-resources-remotely">
<h3>Q: Is there a way to re-image perfSONAR resources remotely?<a class="headerlink" href="#q-is-there-a-way-to-re-image-perfsonar-resources-remotely" title="Permalink to this headline">¶</a></h3>
<p><strong>A:</strong> If the intention is to use the perfSONAR ISO as the base, the installer just needs view the installation medium like a DVD or USB would be mounted.
As for specifics of a mechanism to remotely install, consult the documentation of your server. For instance, some services support “virtual media” if they contain a DRACs with the enterprise feature set enabled.
For a more general solution, and going on the assumption that remote console access is available to a servers, consider a package called iPXE. iPXE can attach an ISO via iSCSI or HTTP, so all that is needed is to put up a server the remote machines can reach. The commands to do it are:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">set</span> <span class="n">net0</span><span class="o">/</span><span class="n">ip</span> <span class="mf">10.9</span><span class="o">.</span><span class="mf">8.7</span>
<span class="nb">set</span> <span class="n">net0</span><span class="o">/</span><span class="n">netmask</span> <span class="mf">255.255</span><span class="o">.</span><span class="mf">255.0</span>
<span class="nb">set</span> <span class="n">net0</span><span class="o">/</span><span class="n">gateway</span> <span class="mf">10.9</span><span class="o">.</span><span class="mf">8.1</span>
<span class="nb">set</span> <span class="n">dns</span> <span class="mf">10.9</span><span class="o">.</span><span class="mf">8.2</span>
<span class="n">sanboot</span> <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">server</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">net</span><span class="o">/</span><span class="n">toolkit</span><span class="o">.</span><span class="n">iso</span>
</pre></div>
</div>
<p>If DHCP is available, the process is considerably simpler:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">dhcp</span>
<span class="n">sanboot</span> <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">server</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">net</span><span class="o">/</span><span class="n">toolkit</span><span class="o">.</span><span class="n">iso</span>
</pre></div>
</div>
<p>Any HTTP server used to serve the ISO must support range requests. The standard Apache on most systems will.
Note that iPXE needs to be on a bootable medium, and it’s operationally better when separate from the disk in the machine. This means that remote locations will need to have something like a USB stick installed. Once in place, set the BIOS to ignore it and boot it explicitly when needed. Since it’s a regular USB device, it can be updated remotely while the main OS is running.</p>
</div>
<div class="section" id="q-i-am-trying-to-run-perfsonar-on-low-cost-hardware-e-g-raspberry-pi-etc-where-should-i-start">
<h3>Q: I am trying to run perfSONAR on low-cost hardware (e.g. raspberry pi, etc.). Where should I start?<a class="headerlink" href="#q-i-am-trying-to-run-perfsonar-on-low-cost-hardware-e-g-raspberry-pi-etc-where-should-i-start" title="Permalink to this headline">¶</a></h3>
<p><strong>A:</strong> There are numerous hardware platforms that have emerged that are an attractive option for use in network performance measurement. The perfSONAR collaboration does not recommend, nor support, the use of perfSONAR on low-end, ARM-based hardware such as the Raspberry PI. It has been shown that it is difficult to distinguish network issues, from host issues, on these devices. In particular, we do not recommend these devices for testing throughput. Use of latency based tools (Ping, OWAMP) is possible provided that an accurate clock source is available.
For more information, see <a class="reference internal" href="install_small_node_details.html"><span class="doc">perfSONAR on Low-cost Hardware</span></a>.</p>
</div>
<div class="section" id="q-i-am-running-a-small-node-and-seeing-a-lot-of-io-what-is-going-on">
<h3>Q: I am running a small node, and seeing a lot of IO. What is going on?<a class="headerlink" href="#q-i-am-running-a-small-node-and-seeing-a-lot-of-io-what-is-going-on" title="Permalink to this headline">¶</a></h3>
<p><strong>A:</strong> Some users report abnormalities on their small nodes related to I/O activity (e.g. iostat reports long w_await times - sometimes measured in multiple seconds). These coincide with intervals of testing, in particular related to OWAMP.
Deeper investigation found that there is too much I/O going on: syslogd and systemd-journald processing syslog messages from “owampd and powstream” in “/var/log/messages”, sometimes up to 30-40 syslog messages per second depending on the testing configuration of a host. Given that small nodes are based on flash memory, changes should be made to ensure a more balanced approach to logging:
Do journaling on memory by editing “/etc/systemd/journald.conf”.
Make option “Storage=volatile” instead of the default “Storage=auto”. Make sure to limit the maximum usage of memory for journaling. You can do this by fiddling with “RuntimeKeepFree” and “RuntimeMaxUse” options.
Don’t <em>restart</em> the journaling service (i.e., don’t do “systemctl restart systemd-journald”). Do an <em>OS reboot</em> instead.</p>
</div>
<div class="section" id="q-where-can-i-find-more-resources-regarding-timekeeping-for-vmware-virtual-machines">
<h3>Q: Where can I find more resources regarding timekeeping for VMWare Virtual Machines?<a class="headerlink" href="#q-where-can-i-find-more-resources-regarding-timekeeping-for-vmware-virtual-machines" title="Permalink to this headline">¶</a></h3>
<p><strong>A:</strong> VMWare has two resources worth reading:</p>
<ul class="simple">
<li><p><a class="reference external" href="http://www.vmware.com/content/dam/digitalmarketing/vmware/en/pdf/techpaper/Timekeeping-In-VirtualMachines.pdf">Timekeeping In Virtual Machines</a></p></li>
<li><p><a class="reference external" href="https://kb.vmware.com/selfservice/microsites/search.do?language=en_US&amp;cmd=displayKC&amp;externalId=1006427">Timekeeping best practices for Linux guests</a></p></li>
</ul>
</div>
<div class="section" id="q-how-do-you-upgrade-a-perfsonar-node-from-debian-7-to-debian-9">
<h3>Q: How do you upgrade a perfSONAR node from Debian 7 to Debian 9<a class="headerlink" href="#q-how-do-you-upgrade-a-perfsonar-node-from-debian-7-to-debian-9" title="Permalink to this headline">¶</a></h3>
<p><strong>A:</strong> Because of systemd, upgrading a host running perfSONAR on Debian 7 to Debian 9 is better done in multiple steps as described bellow:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>Upgrade Debian 7 to Debian 8 (following Debian instructions, here are <a class="reference external" href="https://www.debian.org/releases/jessie/i386/release-notes/ch-upgrading.en.html">Jessie upgrade notes for i386 architecture</a>)</p></li>
<li><p>Reboot (to get systemd running)</p></li>
<li><p>Change perfSONAR repository from perfsonar-wheezy-release to perfsonar-release</p></li>
<li><p>Upgrade Debian 8 to Debian 9 (following Debian instructions, here are <a class="reference external" href="https://www.debian.org/releases/stretch/i386/release-notes/ch-upgrading.en.html">Stretch upgrade notes for i386 architecture</a>)</p></li>
</ol>
</div></blockquote>
</div>
</div>
<div class="section" id="tool-questions">
<h2><a class="toc-backref" href="#id2">Tool Questions</a><a class="headerlink" href="#tool-questions" title="Permalink to this headline">¶</a></h2>
<div class="section" id="q-what-is-pscheduler-and-how-do-i-use-it">
<h3>Q: What is pScheduler and how do I use it?<a class="headerlink" href="#q-what-is-pscheduler-and-how-do-i-use-it" title="Permalink to this headline">¶</a></h3>
<p><strong>A:</strong> pScheduler is used to schedule network tests on perfSONAR hosts. See <a class="reference internal" href="pscheduler_intro.html"><span class="doc">What is pScheduler?</span></a></p>
</div>
<div class="section" id="q-what-is-owamp-and-how-do-i-use-it">
<h3>Q: What is OWAMP and how do I use it?<a class="headerlink" href="#q-what-is-owamp-and-how-do-i-use-it" title="Permalink to this headline">¶</a></h3>
<p><strong>A:</strong> OWAMP (One-Way Ping) is a client server program that was developed to provide delay and jitter measurements between two target computers. At boot time, the perfSONAR Toolkit starts an OWAMP server process and leaves it listening on TCP port 861. This server may then be used by remote clients. Additionally, perfSONAR includes an OWAMP client application that can be used to test to remote instances. For more information on how it fits into perfSONAR overall see <a class="reference internal" href="intro_about.html"><span class="doc">What is perfSONAR?</span></a>.</p>
</div>
<div class="section" id="q-what-happened-to-the-ndt-and-npad-tools">
<h3>Q: What happened to the NDT and NPAD tools?<a class="headerlink" href="#q-what-happened-to-the-ndt-and-npad-tools" title="Permalink to this headline">¶</a></h3>
<p><strong>A:</strong> NDT and NPAD depend on web100, which is no longer supported, so they have been dropped from perfSONAR starting with v4.0.
If you need similar functionality, we recommend that you use <a class="reference external" href="https://www.measurementlab.net/tests/">https://www.measurementlab.net/tests/</a></p>
</div>
<div class="section" id="q-what-happened-to-the-bwctl-tool">
<h3>Q: What happened to the BWCTL tool?<a class="headerlink" href="#q-what-happened-to-the-bwctl-tool" title="Permalink to this headline">¶</a></h3>
<p><strong>A:</strong> BWCTL is no longer included by default with perfSONAR. BWCTL was used to schedule network tests on perfSONAR hosts prior to perfSONAR v4.0 but has been replaced by pScheduler.</p>
</div>
<div class="section" id="q-how-can-i-set-limits-to-prevent-others-from-overusing-my-test-host-what-is-the-purpose-of-pscheduler-limits">
<h3>Q: How can I set limits to prevent others from overusing my test host? What is the purpose of pscheduler limits?<a class="headerlink" href="#q-how-can-i-set-limits-to-prevent-others-from-overusing-my-test-host-what-is-the-purpose-of-pscheduler-limits" title="Permalink to this headline">¶</a></h3>
<p><strong>A:</strong> The pscheduler limits system allows you to limit the influence that outside users have on your system.
For example, to prevent your machine/network from being saturated with throughput tests, limit the duration and maximum bandwidth available. For more information see <a class="reference internal" href="config_pscheduler_limits.html"><span class="doc">Configuring pScheduler Limits</span></a>.</p>
</div>
<div class="section" id="q-can-i-run-both-throughput-and-latency-loss-tests-on-the-same-interface-without-interference-due-to-the-way-pscheduler-scheduling-works">
<h3>Q: Can I run both throughput and latency/loss tests on the same interface without interference due to the way pscheduler scheduling works?<a class="headerlink" href="#q-can-i-run-both-throughput-and-latency-loss-tests-on-the-same-interface-without-interference-due-to-the-way-pscheduler-scheduling-works" title="Permalink to this headline">¶</a></h3>
<p><strong>A:</strong> Currently you cannot guarantee no interference. pScheduler <em>rtt</em> test that execute the ping tool and OWAMP <em>latency</em> and <em>latencybg</em> tests that execute owping and powstream respectively, are considered background tasks and can be scheduled in parallel to each other as well as throughput tests. Given the frequency with which users prefer to run tools such as ping and owping (and powstream runs constantly), there would be very few tests slots available if this were not the case. This does not mean you cannot run these tests on the same interface, it just means some correlation of results may be necessary when debugging. It is recommended, though not required, you run these tests on separate interfaces from throughput.</p>
</div>
<div class="section" id="q-how-can-i-force-testing-over-ipv4-or-ipv6-in-a-psconfig-template">
<h3>Q: How can I force testing over IPv4 or IPv6 in a pSConfig template?<a class="headerlink" href="#q-how-can-i-force-testing-over-ipv4-or-ipv6-in-a-psconfig-template" title="Permalink to this headline">¶</a></h3>
<p><strong>A:</strong> The exact option may very depending on the test plug-in, but in a <em>test</em> object’s <code class="docutils literal notranslate"><span class="pre">spec</span></code> most of the default plug-ins support an <code class="docutils literal notranslate"><span class="pre">ip-version</span></code> field that can get set to <code class="docutils literal notranslate"><span class="pre">4</span></code> or <code class="docutils literal notranslate"><span class="pre">6</span></code>.</p>
</div>
<div class="section" id="q-how-do-i-configure-a-psconfig-template-to-pace-all-tcp-traffic-to-only-5gbps-so-that-i-don-t-use-all-my-sites-bandwidth">
<h3>Q: How do I configure a pSConfig template to pace all TCP traffic to only 5Gbps, so that I don’t use all my sites bandwidth?<a class="headerlink" href="#q-how-do-i-configure-a-psconfig-template-to-pace-all-tcp-traffic-to-only-5gbps-so-that-i-don-t-use-all-my-sites-bandwidth" title="Permalink to this headline">¶</a></h3>
<p><strong>A:</strong> Set the <code class="docutils literal notranslate"><span class="pre">bandwidth</span></code> property in a <em>test</em> object’s <code class="docutils literal notranslate"><span class="pre">spec</span></code>. It accepts bandwidth as an integer in bits per second.</p>
</div>
<div class="section" id="q-why-do-i-get-such-weird-results-when-i-test-from-a-10g-connected-host-to-1g-connected-host">
<h3>Q: Why do I get such weird results when I test from a 10G connected host to 1G connected host?<a class="headerlink" href="#q-why-do-i-get-such-weird-results-when-i-test-from-a-10g-connected-host-to-1g-connected-host" title="Permalink to this headline">¶</a></h3>
<p><strong>A:</strong> See <a class="reference external" href="https://fasterdata.es.net/performance-testing/troubleshooting/interface-speed-mismatch/">https://fasterdata.es.net/performance-testing/troubleshooting/interface-speed-mismatch/</a></p>
</div>
<div class="section" id="q-my-perfsonar-results-show-consistent-line-rate-performance-but-a-researcher-at-my-site-is-reporting-really-poor-performance-what-gives">
<h3>Q: My perfSONAR results show consistent line-rate performance, but a researcher at my site is reporting really poor performance, what gives?<a class="headerlink" href="#q-my-perfsonar-results-show-consistent-line-rate-performance-but-a-researcher-at-my-site-is-reporting-really-poor-performance-what-gives" title="Permalink to this headline">¶</a></h3>
<p><strong>A:</strong> perfSONAR is designed to give a “best case scenario” test result for end to end testing:
perfSONAR is typically installed on well-provisioned server-class hardware that contains adequate CPU, memory, and NIC support
The perfSONAR toolkit follows this recommended host tuning: <a class="reference external" href="https://fasterdata.es.net/host-tuning/linux/">https://fasterdata.es.net/host-tuning/linux/</a></p>
<p>pScheduler’s throughput tests invoke “memory to memory” test tools.
perfSONAR typically runs short single streamed TCP tests.
The user of a network may not have a machine that is as tuned as a perfSONAR node, could be using an application that is incorrect for the job of data movement, and may have a bottleneck due to storage performance. Consider all of these factors when working with them to identify performance issues. It is often the case that the ‘network’ may be working fine, but the host and software infrastructure need additional attention.</p>
</div>
<div class="section" id="q-is-there-a-way-to-visualize-gridftp-results-in-maddash">
<h3>Q: Is there a way to visualize GridFTP results in MaDDash?<a class="headerlink" href="#q-is-there-a-way-to-visualize-gridftp-results-in-maddash" title="Permalink to this headline">¶</a></h3>
<p><strong>A:</strong> Please see documentation at <a class="reference internal" href="esmond_gridftp.html"><span class="doc">Registering GridFTP Results to Esmond</span></a></p>
</div>
<div class="section" id="q-when-i-visit-a-maddash-page-my-dashboards-don-t-load-and-i-see-an-error-connections-could-not-be-acquired-from-the-underlying-database-how-do-i-fix-this">
<h3>Q: When I visit a MaDDash page my dashboards don’t load and I see an error “Connections could not be acquired from the underlying database!”. How do I fix this?<a class="headerlink" href="#q-when-i-visit-a-maddash-page-my-dashboards-don-t-load-and-i-see-an-error-connections-could-not-be-acquired-from-the-underlying-database-how-do-i-fix-this" title="Permalink to this headline">¶</a></h3>
<p><strong>A:</strong> When you see this behavior it means there is some type of corruption in the embedded database MaDDash uses to track the status of alerts. The most common cause is that your disk is full. The database itself is pretty small, so mostly likely something else on the system is using the space. Once you free-up space, you can restart MaDDash with <em>systemctl restart maddash-server</em> and the error may be corrected. If you still see this error the database may have gotten corrupted when the disk was filled. You can clear out the database (this is just the last 7 days of alert history and not your measurements) by running the following:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">rm</span> <span class="o">-</span><span class="n">rf</span> <span class="o">/</span><span class="n">var</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">maddash</span><span class="o">/*</span>
<span class="n">systemctl</span> <span class="n">restart</span> <span class="n">maddash</span><span class="o">-</span><span class="n">server</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="host-and-network-administration-questions">
<h2><a class="toc-backref" href="#id3">Host and Network Administration Questions</a><a class="headerlink" href="#host-and-network-administration-questions" title="Permalink to this headline">¶</a></h2>
<div class="section" id="q-where-are-the-relevant-logs-for-perfsonar-services">
<h3>Q: Where are the relevant logs for perfSONAR services?<a class="headerlink" href="#q-where-are-the-relevant-logs-for-perfsonar-services" title="Permalink to this headline">¶</a></h3>
<p><strong>A:</strong> Please see <a class="reference internal" href="manage_logs.html"><span class="doc">Reading Log Files</span></a> for more information.</p>
</div>
<div class="section" id="q-can-i-use-a-firewall">
<h3>Q: Can I use a firewall?<a class="headerlink" href="#q-can-i-use-a-firewall" title="Permalink to this headline">¶</a></h3>
<p><strong>A:</strong> Please see <a class="reference internal" href="manage_security.html"><span class="doc">Firewalls and Security Software</span></a>.</p>
</div>
<div class="section" id="q-how-many-ntp-servers-do-i-need-can-i-select-them-all">
<h3>Q: How many NTP servers do I need, can I select them all?<a class="headerlink" href="#q-how-many-ntp-servers-do-i-need-can-i-select-them-all" title="Permalink to this headline">¶</a></h3>
<p><strong>A:</strong> It is recommended that 4 to 5 close and active servers be used. The Select Closest Servers button will help with this decision. Note that some servers may not be available due to routing restrictions (e.g. non-R&amp;E networks vs R&amp;E networks - a common problem for Internet2 and ESnet servers).</p>
</div>
<div class="section" id="q-when-setting-up-a-dual-homed-host-how-can-one-get-individual-tests-to-use-one-interface-or-another">
<h3>Q: When setting up a dual homed host, how can one get individual tests to use one interface or another?<a class="headerlink" href="#q-when-setting-up-a-dual-homed-host-how-can-one-get-individual-tests-to-use-one-interface-or-another" title="Permalink to this headline">¶</a></h3>
<p><strong>A:</strong> See <a class="reference internal" href="manage_dual_xface.html"><span class="doc">Configuring a Host with Multiple Interfaces</span></a>.</p>
</div>
<div class="section" id="q-how-do-i-change-the-mtu-for-a-device">
<h3>Q: How do I change the MTU for a device?<a class="headerlink" href="#q-how-do-i-change-the-mtu-for-a-device" title="Permalink to this headline">¶</a></h3>
<p><strong>A:</strong> Changing the MTU on your perfSONAR host should only be done if the underlying network supports the chosen size. Please work with your local network staff before making this change on any host.
You can view the MTU of your network devices by executing the /sbin/ifconfig command.
To temporarily change the MTU for a device, you use the ifconfig command and specify the device and the new MTU. For example: ifconfig eth0 mtu 9000 up</p>
<p>To make these changes permanent you need to modify the specific devices configuration file. These files are in /etc/sysconfig/network-scripts/ and have names like ifcfg-eth0 for the device eth0 and ifcfg-eth1 for eth1.</p>
<p>For example you could add the line MTU=”9000” for IPv4 or IPV6_MTU=”9000” for IPv6 to /etc/sysconfig/network-scripts/ifcfg-eth0.
After making the changes you need to restart the network services by running the command ‘service network restart’ as root.</p>
</div>
<div class="section" id="q-how-can-i-configure-my-toolkit-web-interface-to-display-a-private-ip">
<h3>Q: How can I configure my toolkit web interface to display a private IP?<a class="headerlink" href="#q-how-can-i-configure-my-toolkit-web-interface-to-display-a-private-ip" title="Permalink to this headline">¶</a></h3>
<p><strong>A:</strong> The file resides at:
/usr/lib/perfsonar/web-ng/etc/web_admin.conf
The config option is allow_internal_addresses. Set it to 1. This affects the GUI display only, your measurement should work using private addresses with no special modification.</p>
</div>
<div class="section" id="q-how-do-i-change-the-ssl-certificate-used-by-the-web-server">
<h3>Q: How do I change the SSL certificate used by the web server?<a class="headerlink" href="#q-how-do-i-change-the-ssl-certificate-used-by-the-web-server" title="Permalink to this headline">¶</a></h3>
<p><strong>A:</strong> The toolkit by default generates a self-signed SSL certificate that it configures for use with the Apache web server. Some users may desire to replace this certificate with a certificate signed by a certificate authority (CA).</p>
<p>You may also need to replace the certificate due to a problem sometimes encountered with browsers not accepting the self-signed certificate. You may see an error like the following:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">HOST</span> <span class="n">uses</span> <span class="n">an</span> <span class="n">invalid</span> <span class="n">security</span> <span class="n">certificate</span><span class="o">.</span>
<span class="n">The</span> <span class="n">certificate</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">trusted</span> <span class="n">because</span> <span class="n">it</span> <span class="ow">is</span> <span class="bp">self</span><span class="o">-</span><span class="n">signed</span><span class="o">.</span>
<span class="n">The</span> <span class="n">certificate</span> <span class="ow">is</span> <span class="n">only</span> <span class="n">valid</span> <span class="k">for</span> <span class="n">localhost</span><span class="o">.</span><span class="n">localdomain</span>
<span class="p">(</span><span class="n">Error</span> <span class="n">code</span><span class="p">:</span> <span class="n">sec_error_untrusted_issuer</span><span class="p">)</span>
</pre></div>
</div>
<p>You can find instructions for installing a new certificate in Apache
<a class="reference external" href="http://httpd.apache.org/docs/2.0/ssl/ssl_faq.html#aboutcerts">here</a>.</p>
</div>
<div class="section" id="q-i-forgot-to-enable-ipv6-in-centos-when-i-installed-the-toolkit-how-do-i-enable-it">
<h3>Q: I forgot to enable IPv6 in CentOS when I installed the toolkit. How do I enable it?<a class="headerlink" href="#q-i-forgot-to-enable-ipv6-in-centos-when-i-installed-the-toolkit-how-do-i-enable-it" title="Permalink to this headline">¶</a></h3>
<p><strong>A:</strong> It is recommended that you always enable IPv6 during the CentOS installation portion of the toolkit setup. If you did not enable it, then you can do so with the following steps:</p>
<p>Login to the toolkit as a user capable of running sudo
Run sudo and enter your sudo password
Open the file /etc/modprobe.conf in a text editor and remove the following lines:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">alias</span> <span class="n">net</span><span class="o">-</span><span class="n">pf</span><span class="o">-</span><span class="mi">10</span> <span class="n">off</span>
<span class="n">alias</span> <span class="n">ipv6</span> <span class="n">off</span>
<span class="n">options</span> <span class="n">ipv6</span> <span class="n">disable</span><span class="o">=</span><span class="mi">1</span>
</pre></div>
</div>
<p>Then Restart the host. You can now assign an IPv6 address.</p>
</div>
<div class="section" id="q-why-is-the-static-ipv6-address-i-assigned-during-the-net-install-process-not-configured-when-my-host-starts-up">
<h3>Q: Why is the static IPv6 address I assigned during the net-install process not configured when my host starts-up?<a class="headerlink" href="#q-why-is-the-static-ipv6-address-i-assigned-during-the-net-install-process-not-configured-when-my-host-starts-up" title="Permalink to this headline">¶</a></h3>
<p><strong>A:</strong> When you perform the net-install of the toolkit, you will be prompted twice to enter networking information by CentOS. The first time is to define the networking to be used for downloading required packages. The second prompt is later in the installation and defines what will be configured on the host post-installation. It is a known CentOS behavior that IPv6 information entered at the first prompt is not automatically filled-in at the second prompt. This can be confusing because the IPv4 information does get automatically filled-in. If you do not manually enter the IPv6 information a second time, then your host will not have the address configured post-installation. You will have to manually assign the address if this happens.</p>
</div>
<div class="section" id="q-how-do-i-setup-a-perfsonar-node-to-have-two-interfaces-on-the-same-subnet">
<h3>Q: How do I setup a perfSONAR node to have two interfaces on the same subnet?<a class="headerlink" href="#q-how-do-i-setup-a-perfsonar-node-to-have-two-interfaces-on-the-same-subnet" title="Permalink to this headline">¶</a></h3>
<p><strong>A:</strong> This can be accomplished by setting the following items in sysctl:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">net</span><span class="o">.</span><span class="n">ipv4</span><span class="o">.</span><span class="n">conf</span><span class="o">.</span><span class="n">default</span><span class="o">.</span><span class="n">arp_filter</span> <span class="o">=</span> <span class="mi">2</span>
<span class="n">net</span><span class="o">.</span><span class="n">ipv4</span><span class="o">.</span><span class="n">conf</span><span class="o">.</span><span class="n">all</span><span class="o">.</span><span class="n">arp_filter</span> <span class="o">=</span> <span class="mi">2</span>
</pre></div>
</div>
<p>More information available here:
<a class="reference external" href="http://z-issue.com/wp/linux-rhel-6-centos-6-two-nics-in-the-same-subnet-but-secondary-doesnt-ping/">http://z-issue.com/wp/linux-rhel-6-centos-6-two-nics-in-the-same-subnet-but-secondary-doesnt-ping/</a></p>
</div>
<div class="section" id="q-what-tcp-congestion-control-algorithm-is-used-by-the-perfsonar-toolkit">
<h3>Q: What TCP congestion control algorithm is used by the perfSONAR Toolkit?<a class="headerlink" href="#q-what-tcp-congestion-control-algorithm-is-used-by-the-perfsonar-toolkit" title="Permalink to this headline">¶</a></h3>
<p><strong>A:</strong> The perfSONAR toolkit sets the TCP congestion control algorithm to htcp.</p>
</div>
<div class="section" id="q-how-can-i-add-custom-rules-to-my-firewall">
<h3>Q: How can I add custom rules to my firewall?<a class="headerlink" href="#q-how-can-i-add-custom-rules-to-my-firewall" title="Permalink to this headline">¶</a></h3>
<p><strong>A:</strong> See <a class="reference internal" href="manage_security.html#manage-security-custom"><span class="std std-ref">Adding Your Own Firewall Rules</span></a></p>
</div>
<div class="section" id="q-is-it-possible-to-change-the-default-port-for-tool-x">
<h3>Q: Is it possible to change the default port for tool X?<a class="headerlink" href="#q-is-it-possible-to-change-the-default-port-for-tool-x" title="Permalink to this headline">¶</a></h3>
<p><strong>A:</strong> Some measurement tools use 2 kinds of ports:</p>
<ul class="simple">
<li><p>Contact ports, e.g. a well known location to contact the daemon to initiate a test</p></li>
<li><p>Test ports, e.g. negotiated ports to flow test or control traffic when a test is requested</p></li>
</ul>
<p>Test ports are easily configured to run on a specific set of ports, and can be configured to be opened in a site firewall. The daemon is often able to negotiate these at run time. The contact port is well known, and because of that should never be changed to a different value. Doing so severely impacts the ability of the tool to interoperate on a global scale.</p>
<p>As an example, the OWAMP server listens on the registered port 861 (see <a class="reference external" href="http://tools.ietf.org/search/rfc4656">http://tools.ietf.org/search/rfc4656</a> section 2). This is the standard port for the application, in the same way that port 80 is the standard port for an HTTP server. While one can run a web server on a port other than 80, it makes the web server less useful because it’s not a standard config. The same is true for OWAMP. The OWAMP protocol is standardized, and has a well-known port - port 861 - associated with it. Running the OWAMP daemon on a non-standard port introduces significant interoperability challenges between deployments.</p>
<p>If you’re going to run a measurement infrastructure inside your own organization, you are of course free to do whatever you want. If you want to integrate with the rest of the world, the measurement tools should be run on the standard port to ensure interoperability.</p>
</div>
<div class="section" id="q-why-doesn-t-the-perfsonar-toolkit-include-the-most-recent-version-of-vendor-xs-driver">
<h3>Q: Why doesn’t the perfSONAR toolkit include the most recent version of vendor X’s driver?<a class="headerlink" href="#q-why-doesn-t-the-perfsonar-toolkit-include-the-most-recent-version-of-vendor-xs-driver" title="Permalink to this headline">¶</a></h3>
<p><strong>A:</strong> We only support the default CentOS device drivers on the toolkit. Check your NIC vendor’s website to see if a newer version of the driver is available for download.</p>
</div>
<div class="section" id="q-how-can-i-configure-yum-to-automatically-update-the-system">
<h3>Q: How can I configure yum to automatically update the system?<a class="headerlink" href="#q-how-can-i-configure-yum-to-automatically-update-the-system" title="Permalink to this headline">¶</a></h3>
<p><strong>A:</strong> Note that as of version v3.4, this is enabled by default. See <a class="reference internal" href="manage_update.html"><span class="doc">Updating perfSONAR</span></a>.</p>
</div>
<div class="section" id="q-my-host-was-impacted-by-linux-security-issue-shellshock-heartbleed-etc-what-should-i-do">
<h3>Q: My host was impacted by Linux security issue (Shellshock/Heartbleed/etc.). What should I do?<a class="headerlink" href="#q-my-host-was-impacted-by-linux-security-issue-shellshock-heartbleed-etc-what-should-i-do" title="Permalink to this headline">¶</a></h3>
<p><strong>A:</strong> Please check the <a class="reference external" href="https://access.redhat.com/security/vulnerabilities">RedHat vulnerability archive</a> or the <a class="reference external" href="https://www.debian.org/security/">Debian security list</a> for updates, and upgrade your system as soon as the update is available.</p>
</div>
<div class="section" id="q-how-to-get-rid-of-there-isn-t-a-perfsonar-sudo-user-defined-message">
<h3>Q: How to get rid of “There isn’t a perfSONAR sudo user defined” message?<a class="headerlink" href="#q-how-to-get-rid-of-there-isn-t-a-perfsonar-sudo-user-defined-message" title="Permalink to this headline">¶</a></h3>
<p><strong>A:</strong> The best option is to add a non-root user to the pssudo group. If you have another method of handling sudo users, comment out the lines in <em>/etc/profile.d/add_psadmin_pssudo.sh</em>. Do not remove the file entirely, just modify it, otherwise it will get restored on update.</p>
</div>
<div class="section" id="q-is-it-possible-to-use-non-intel-sfp-optics-in-the-intel-x520-sr2-nic">
<h3>Q: Is it possible to use non-intel SFP+ optics in the Intel X520-SR2 NIC?<a class="headerlink" href="#q-is-it-possible-to-use-non-intel-sfp-optics-in-the-intel-x520-sr2-nic" title="Permalink to this headline">¶</a></h3>
<p><strong>A:</strong> The ixgbe driver has an option to allow alternative optics:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">allow_unsupported_sfp</span><span class="o">=</span><span class="mi">1</span>
</pre></div>
</div>
<p>This can be tested using the fillow commands:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">modprobe</span> <span class="o">-</span><span class="n">r</span> <span class="n">ixgbe</span>
<span class="n">sudo</span> <span class="n">modprobe</span> <span class="n">ixgbe</span> <span class="n">allow_unsupported_sfp</span><span class="o">=</span><span class="mi">0</span>
</pre></div>
</div>
</div>
<div class="section" id="q-how-can-i-tune-a-dell-server-for-a-high-throughput-and-low-latency">
<h3>Q: How can I tune a Dell server for a high throughput and low latency?<a class="headerlink" href="#q-how-can-i-tune-a-dell-server-for-a-high-throughput-and-low-latency" title="Permalink to this headline">¶</a></h3>
<p><strong>A:</strong> Dell offers this guide on tuning:</p>
<p><a class="reference external" href="http://i.dell.com/sites/content/shared-content/data-sheets/en/Documents/configuring-low-latency-environments-on-dell-poweredge-12g-servers.pdf">http://i.dell.com/sites/content/shared-content/data-sheets/en/Documents/configuring-low-latency-environments-on-dell-poweredge-12g-servers.pdf</a></p>
</div>
<div class="section" id="q-how-do-i-backup-a-perfsonar-instance-or-migrate-the-configuration-and-data-to-a-new-machine">
<h3>Q: How do I backup a perfSONAR instance or migrate the configuration and data to a new machine?<a class="headerlink" href="#q-how-do-i-backup-a-perfsonar-instance-or-migrate-the-configuration-and-data-to-a-new-machine" title="Permalink to this headline">¶</a></h3>
<p><strong>A:</strong> See our <a class="reference internal" href="install_migrate_centos7.html"><span class="doc">migration guide</span></a> for a set of scripts that will create a backup/restore of relevant configuration files and measurement data.</p>
</div>
<div class="section" id="q-what-is-ptp">
<h3>Q: What is PTP?<a class="headerlink" href="#q-what-is-ptp" title="Permalink to this headline">¶</a></h3>
<p><strong>A:</strong> PTP is the Precision Time Protocol, also known as IEEE 1588, a more-accurate successor to the Network Time Protocol which as been used for many years to discipline the clocks in general-purpose computers. Under ideal conditions, PTP can discipline a clock to within a few microseconds of UTC. Compare this with NTP, which typically has accuracy of about a millisecond when used with clocks on the Internet and 100 microseconds or less when using a stratum-1 clock in a LAN environment.</p>
</div>
<div class="section" id="q-what-is-required-to-use-ptp-in-my-network">
<h3>Q: What is required to use PTP in my network?<a class="headerlink" href="#q-what-is-required-to-use-ptp-in-my-network" title="Permalink to this headline">¶</a></h3>
<p><strong>A:</strong> Unlike NTP, which provides satisfactory operation using software clients and a pool of servers usually on the Internet, running PTP requires specialized equipment:</p>
<ul class="simple">
<li><p>Clocks. For production-grade service, PTP requires a minimum of two grandmaster clocks. These are dedicated hardware appliances that use the Global Positioning System to recover accurate time and a high-precision oscillator for holdover during periods when GPS is not available. At this writing, base model clocks cost about US$2,500 each.</p></li>
<li><p>Network Infrastructure. PTP requires that all network elements between the grandmaster and slaves be capable of functioning as a boundary clock. This is a feature typically found on high-end routers and switches designed for use in low-latency applications.</p></li>
<li><p>Network Interface Cards. Interfaces in the slave system require hardware support for the timestamping that makes PTP work accurately. While software-only PTP clients exist, they may suffer inaccuracies induced by the vagaries of running under a general-purpose operating system and provide inaccurate results when testing latency in a LAN environment.</p></li>
</ul>
</div>
<div class="section" id="q-does-perfsonar-support-ptp">
<h3>Q: Does perfSONAR support PTP?<a class="headerlink" href="#q-does-perfsonar-support-ptp" title="Permalink to this headline">¶</a></h3>
<p><strong>A:</strong> Not at this time. The prohibitive cost of deploying PTP makes it unlikely to be used widely enough to merit adding support. The current perfSONAR code contains assumptions that the clock is disciplined by NTP and would need to be modified for other protocols.</p>
</div>
<div class="section" id="q-when-trying-to-migrate-from-a-centos-6-to-a-centos-7-host-i-receive-pg-dump-error-how-to-fix-it">
<h3>Q: When trying to migrate from a CentOS 6 to a CentOS 7 host I receive pg_dump error. How to fix it?<a class="headerlink" href="#q-when-trying-to-migrate-from-a-centos-6-to-a-centos-7-host-i-receive-pg-dump-error-how-to-fix-it" title="Permalink to this headline">¶</a></h3>
<p><strong>A:</strong> Using a script that will create a backup/restore of relevant configuration files and measurement data may generate <code class="docutils literal notranslate"><span class="pre">pg_dump</span></code> error failing to create pScheduler backup. This happens when you have both postgresql 8 and postgresql 9 installed, but pscheduler backup script expects only postgresql 9. This can be patched by editing <code class="docutils literal notranslate"><span class="pre">/usr/libexec/pscheduler/commands/backup</span></code>:</p>
<p>Remove line:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pg_dump</span> \
</pre></div>
</div>
<p>Add in this place these three lines:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>PG_DUMP=pg_dump
[ -x /usr/pgsql-9.5/bin/pg_dump ] &amp;&amp; PG_DUMP=/usr/pgsql-9.5/bin/pg_dump
$PG_DUMP \
</pre></div>
</div>
<p>Rerun the backup script.</p>
</div>
</div>
<div class="section" id="perfsonar-archive-esmond-questions">
<h2><a class="toc-backref" href="#id4">perfSONAR Archive (esmond) Questions</a><a class="headerlink" href="#perfsonar-archive-esmond-questions" title="Permalink to this headline">¶</a></h2>
<div class="section" id="q-how-much-memory-is-needed-for-a-host-running-an-ma">
<h3>Q: How much memory is needed for a host running an MA?<a class="headerlink" href="#q-how-much-memory-is-needed-for-a-host-running-an-ma" title="Permalink to this headline">¶</a></h3>
<p><strong>A:</strong> The maximum amount of memory cassandra will use is calculated as a percentage of memory installed on the system. It is possible to tweak the memory settings if you want it to use a higher or lower percentage of memory. Read more here:</p>
<ul class="simple">
<li><p><a class="reference external" href="http://docs.datastax.com/en/cassandra/2.0/cassandra/operations/ops_tune_jvm_c.html">http://docs.datastax.com/en/cassandra/2.0/cassandra/operations/ops_tune_jvm_c.html</a>.</p></li>
</ul>
</div>
<div class="section" id="q-i-have-a-measurement-archive-machine-with-esmond-running-and-there-is-a-separate-disk-partition-mounted-on-the-machine-where-i-want-to-store-all-the-incoming-measurement-data-from-measurement-points-what-is-the-proper-way-to-change-the-default-directory-location-for-storing-the-measurement-archive-data">
<h3>Q: I have a measurement archive machine with esmond running, and there is a separate disk partition mounted on the machine where I want to store all the incoming measurement data from measurement points. What is the proper way to change the default directory location for storing the measurement archive data?<a class="headerlink" href="#q-i-have-a-measurement-archive-machine-with-esmond-running-and-there-is-a-separate-disk-partition-mounted-on-the-machine-where-i-want-to-store-all-the-incoming-measurement-data-from-measurement-points-what-is-the-proper-way-to-change-the-default-directory-location-for-storing-the-measurement-archive-data" title="Permalink to this headline">¶</a></h3>
<p><strong>A:</strong> Change the directory where cassandra and postgres store data. This is controlled through the respective tools configuration files and not esmond directly.</p>
<p>For cassandra, in /etc/cassandra/conf/cassandra.yaml change the commitlog_directory, data_file_directories and saved_caches_directory to the new locations you desire. Restart cassandra:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">service</span> <span class="n">cassandra</span> <span class="n">restart</span>
</pre></div>
</div>
<p>For postgres, in /var/lib/pgsql/data/postgresql.conf cha</p>
<p>Run the following commands:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">pgsql</span><span class="o">-</span><span class="mf">9.5</span><span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">postgresql96</span><span class="o">-</span><span class="n">setup</span> <span class="n">initdb</span>
<span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">perfsonar</span><span class="o">/</span><span class="n">scripts</span><span class="o">/</span><span class="n">toolkit</span><span class="o">/</span><span class="n">system_environment</span><span class="o">/</span><span class="n">configure_esmond</span>
</pre></div>
</div>
<p>An alternative way to do what you want is to stop both postgres and cassandra, move /var/lib/cassandra and /var/lib/pgsql to the new partition and then create symlinks to the new location in /var/lib/cassandra and /var/lib/pgsql. That saves the need to rebuild postgres and preserves any existing data.</p>
</div>
<div class="section" id="q-how-can-i-nuke-all-of-the-data-in-esmond-and-start-from-scratch">
<h3>Q: How can I nuke all of the data in esmond, and start from scratch?<a class="headerlink" href="#q-how-can-i-nuke-all-of-the-data-in-esmond-and-start-from-scratch" title="Permalink to this headline">¶</a></h3>
<p><strong>A:</strong> The following will destroy existing data and metadata collections. First create a file named <em>esmond-nuke.conf</em> and add the following:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="s2">&quot;policies&quot;</span><span class="p">:</span> <span class="p">[</span>

<span class="p">{</span>
<span class="s2">&quot;event_type&quot;</span><span class="p">:</span>      <span class="s2">&quot;*&quot;</span><span class="p">,</span>
<span class="s2">&quot;summary_type&quot;</span><span class="p">:</span>    <span class="s2">&quot;*&quot;</span><span class="p">,</span>
<span class="s2">&quot;summary_window&quot;</span><span class="p">:</span>  <span class="s2">&quot;*&quot;</span><span class="p">,</span>
<span class="s2">&quot;expire&quot;</span><span class="p">:</span>          <span class="s2">&quot;0&quot;</span>
<span class="p">}</span>

<span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Then run the following commands to delete all esmond dat:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">esmond</span>
<span class="o">.</span> <span class="nb">bin</span><span class="o">/</span><span class="n">activate</span>
<span class="n">python</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">esmond</span><span class="o">/</span><span class="n">util</span><span class="o">/</span><span class="n">ps_remove_data</span><span class="o">.</span><span class="n">py</span> <span class="o">-</span><span class="n">c</span> <span class="n">esmond</span><span class="o">-</span><span class="n">nuke</span><span class="o">.</span><span class="n">conf</span>
</pre></div>
</div>
</div>
<div class="section" id="q-i-have-a-central-ma-for-my-perfsonar-data-what-happens-if-the-central-ma-goes-down-for-a-while-or-the-network-is-unavailable-between-the-beacons-and-the-ma-are-the-measurements-lost-or-are-they-buffered-to-be-delivered-later-does-this-have-any-effect-on-the-timing-of-subsequent-measurements">
<h3>Q: I have a central MA for my perfSONAR data. What happens if the central MA goes down for a while, or the network is unavailable between the beacons and the MA? Are the measurements lost, or are they buffered to be delivered later? Does this have any effect on the timing of subsequent measurements?<a class="headerlink" href="#q-i-have-a-central-ma-for-my-perfsonar-data-what-happens-if-the-central-ma-goes-down-for-a-while-or-the-network-is-unavailable-between-the-beacons-and-the-ma-are-the-measurements-lost-or-are-they-buffered-to-be-delivered-later-does-this-have-any-effect-on-the-timing-of-subsequent-measurements" title="Permalink to this headline">¶</a></h3>
<p><strong>A:</strong> All data is pushed to the measurement archive by the pScheduler software running on the measurement hosts. How long pScheduler attempts to register data after a failure is configurable, but by default the retry policy is a step function based on the test/reporting interval. It is best demonstrated by example as follows:</p>
<blockquote>
<div><ul class="simple">
<li><p>It will attempt to re-register OWAMP tests once 5 minutes after a failure. It is not more aggressive because OWAMP data by default reports every 60 seconds and can accrue very quickly.</p></li>
<li><p>A traceroute or ping test running every 10 minutes will try once after 1 minute and again after 5 minutes.</p></li>
<li><p>A throughput test running every 4 hours will try once after 1 minute, again after 5 minutes, and then once an hour for the next 11 hours.</p></li>
</ul>
</div></blockquote>
</div>
<div class="section" id="q-what-if-there-are-multiple-mas-used-for-a-central-ma-architecture-but-only-one-is-down-or-unreachable-what-will-happen">
<h3>Q: What if there are multiple MAs used for a central MA architecture, but only one is down or unreachable, what will happen?<a class="headerlink" href="#q-what-if-there-are-multiple-mas-used-for-a-central-ma-architecture-but-only-one-is-down-or-unreachable-what-will-happen" title="Permalink to this headline">¶</a></h3>
<p><strong>A:</strong> Each MA is handled separately and data should continue to reach the working MA if another is down.</p>
</div>
<div class="section" id="q-cassandra-seems-to-be-using-100-cpu-on-my-system-and-i-can-t-figure-out-why">
<h3>Q: Cassandra seems to be using 100% CPU on my system and I can’t figure out why.<a class="headerlink" href="#q-cassandra-seems-to-be-using-100-cpu-on-my-system-and-i-can-t-figure-out-why" title="Permalink to this headline">¶</a></h3>
<p><strong>A:</strong> Cassandra features a nodetool utility that can be used to see what is going on. For instance, if you notice that after you restart cassandra it spends lots of time ‘compacting’, you can view status as such:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ nodetool compactionstats
pending tasks: 1
         compaction type        keyspace           table       completed           total      unit  progress
              Compaction          esmondrate_aggregations       140157665      2632220068     bytes     5.32%
Active compaction remaining time :        n/a
</pre></div>
</div>
<p>If after repeated runnings the total progress does not move, cassandra may be having trouble compacting. There may be the following logs in the file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">INFO</span> <span class="p">[</span><span class="n">CompactionExecutor</span><span class="p">:</span><span class="mi">8</span><span class="p">]</span> <span class="mi">2016</span><span class="o">-</span><span class="mi">04</span><span class="o">-</span><span class="mi">02</span> <span class="mi">12</span><span class="p">:</span><span class="mi">32</span><span class="p">:</span><span class="mi">18</span><span class="p">,</span><span class="mi">205</span> <span class="n">CompactionController</span><span class="o">.</span><span class="n">java</span> <span class="p">(</span><span class="n">line</span> <span class="mi">192</span><span class="p">)</span> <span class="n">Compacting</span> <span class="n">large</span> <span class="n">row</span> <span class="n">esmond</span><span class="o">/</span><span class="n">rate_aggregations</span><span class="p">:</span><span class="n">ps</span><span class="p">:</span><span class="n">packet_loss_rate</span><span class="p">:</span><span class="n">b30f54e8df9549ceb8292278b782f05b</span><span class="p">:</span><span class="mi">2015</span> <span class="p">(</span><span class="mi">121215124</span> <span class="nb">bytes</span><span class="p">)</span> <span class="n">incrementally</span>
<span class="n">INFO</span> <span class="p">[</span><span class="n">CompactionExecutor</span><span class="p">:</span><span class="mi">8</span><span class="p">]</span> <span class="mi">2016</span><span class="o">-</span><span class="mi">04</span><span class="o">-</span><span class="mi">03</span> <span class="mi">04</span><span class="p">:</span><span class="mi">50</span><span class="p">:</span><span class="mi">45</span><span class="p">,</span><span class="mi">168</span> <span class="n">CompactionController</span><span class="o">.</span><span class="n">java</span> <span class="p">(</span><span class="n">line</span> <span class="mi">192</span><span class="p">)</span> <span class="n">Compacting</span> <span class="n">large</span> <span class="n">row</span> <span class="n">esmond</span><span class="o">/</span><span class="n">rate_aggregations</span><span class="p">:</span><span class="n">ps</span><span class="p">:</span><span class="n">time_error_estimates</span><span class="p">:</span><span class="n">b30f54e8df9549ceb8292278b782f05b</span><span class="p">:</span><span class="mi">2015</span> <span class="p">(</span><span class="mi">123923983</span> <span class="nb">bytes</span><span class="p">)</span> <span class="n">incrementally</span>
<span class="n">INFO</span> <span class="p">[</span><span class="n">CompactionExecutor</span><span class="p">:</span><span class="mi">8</span><span class="p">]</span> <span class="mi">2016</span><span class="o">-</span><span class="mi">04</span><span class="o">-</span><span class="mi">03</span> <span class="mi">22</span><span class="p">:</span><span class="mi">06</span><span class="p">:</span><span class="mi">38</span><span class="p">,</span><span class="mi">417</span> <span class="n">CompactionController</span><span class="o">.</span><span class="n">java</span> <span class="p">(</span><span class="n">line</span> <span class="mi">192</span><span class="p">)</span> <span class="n">Compacting</span> <span class="n">large</span> <span class="n">row</span> <span class="n">esmond</span><span class="o">/</span><span class="n">rate_aggregations</span><span class="p">:</span><span class="n">ps</span><span class="p">:</span><span class="n">packet_loss_rate</span><span class="p">:</span><span class="mi">76</span><span class="n">b654c4279241f19898dcdb8cacdfb2</span><span class="p">:</span><span class="mi">2015</span> <span class="p">(</span><span class="mi">120871402</span> <span class="nb">bytes</span><span class="p">)</span> <span class="n">incrementally</span>
</pre></div>
</div>
<p>It may be the case that an exceptionally large data row can’t be compacted. When the size of the row exceeded 64Mb, Cassandra should try to swap to disk, and that may fail.</p>
<p>It is possible to edit /etc/cassandra/conf/cassandra.yaml and change the “in_memory_compaction_limit_in_mb” value up from 64 to 256 and restart cassandra. Once the row or rows in question are compacted, you can change it back and restart again.</p>
</div>
<div class="section" id="q-how-can-i-clean-up-the-data-in-my-esmond-instance">
<h3>Q: How can I clean up the data in my esmond instance?<a class="headerlink" href="#q-how-can-i-clean-up-the-data-in-my-esmond-instance" title="Permalink to this headline">¶</a></h3>
<p><strong>A:</strong> Information on this can be found here: <a class="reference internal" href="multi_ma_backups.html#multi-ma-backups-delete"><span class="std std-ref">Deleting Old Data</span></a>.</p>
</div>
<div class="section" id="q-how-can-i-backup-the-data-in-my-esmond-instance">
<h3>Q: How can I backup the data in my esmond instance?<a class="headerlink" href="#q-how-can-i-backup-the-data-in-my-esmond-instance" title="Permalink to this headline">¶</a></h3>
<p><strong>A:</strong> Information on this can be found here: Information on this can be found here: <a class="reference internal" href="multi_ma_backups.html"><span class="doc">Managing Measurement Archive Data</span></a>.</p>
</div>
<div class="section" id="q-where-can-i-find-documentation-on-interacting-with-perfsonar-archive-via-a-custom-client">
<h3>Q: Where can I find documentation on interacting with perfSONAR archive via a custom client?<a class="headerlink" href="#q-where-can-i-find-documentation-on-interacting-with-perfsonar-archive-via-a-custom-client" title="Permalink to this headline">¶</a></h3>
<p><strong>A:</strong> See:</p>
<ul class="simple">
<li><p><a class="reference internal" href="esmond_api_rest.html"><span class="doc">esmond API Reference</span></a></p></li>
<li><p><a class="reference internal" href="esmond_api_perl.html"><span class="doc">esmond Perl Client Libraries</span></a></p></li>
<li><p><a class="reference internal" href="esmond_api_python.html"><span class="doc">esmond Python Client Libraries</span></a></p></li>
</ul>
</div>
<div class="section" id="q-how-can-i-get-cassandra-to-run-on-a-host-that-only-has-an-ipv6-address">
<h3>Q: How can I get cassandra to run on a host that only has an IPv6 address?<a class="headerlink" href="#q-how-can-i-get-cassandra-to-run-on-a-host-that-only-has-an-ipv6-address" title="Permalink to this headline">¶</a></h3>
<p><strong>A:</strong> The default configuration of cassandra will not properly bind to the localhost interface if the host only has an IPv6 address. This is a bug in cassandra where it tries to open an IPv6 socket on 127.0.0.1, which is not possible since 127.0.0.1 is an IPv4 address. You may fix this problem with the following steps:</p>
<blockquote>
<div><ol class="arabic">
<li><p>Open <em>/etc/cassandra/conf/cassandra-env.sh</em>, find and comment-out the line <cite>JVM_OPTS=”$JVM_OPTS -Djava.net.preferIPv4Stack=true”</cite> (by adding a <cite>#</cite> at the beginning of the line). Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">#JVM_OPTS=&quot;$JVM_OPTS -Djava.net.preferIPv4Stack=true&quot;</span>
</pre></div>
</div>
</li>
<li><p>Open <em>/etc/cassandra/conf/cassandra.yaml</em>, find, and set the options <cite>listen_address</cite> and <cite>rpc_address</cite> to <cite>“::1”</cite> (NOTE: don’t forget the double quotes). Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">listen_address</span><span class="p">:</span> <span class="s2">&quot;::1&quot;</span>
<span class="o">...</span>
<span class="n">rpc_address</span><span class="p">:</span> <span class="s2">&quot;::1&quot;</span>
</pre></div>
</div>
</li>
<li><p>Restart <em>htpd</em> and <em>cassandra</em>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">systemctl</span> <span class="n">restart</span> <span class="n">cassandra</span>
<span class="n">systemctl</span> <span class="n">restart</span> <span class="n">httpd</span>
</pre></div>
</div>
</li>
</ol>
</div></blockquote>
</div>
</div>
<div class="section" id="perfsonar-project-questions">
<h2><a class="toc-backref" href="#id5">perfSONAR Project Questions</a><a class="headerlink" href="#perfsonar-project-questions" title="Permalink to this headline">¶</a></h2>
<div class="section" id="q-how-do-i-join-the-perfsonar-collaboration">
<h3>Q: How do I join the perfSONAR Collaboration?<a class="headerlink" href="#q-how-do-i-join-the-perfsonar-collaboration" title="Permalink to this headline">¶</a></h3>
<p><strong>A:</strong> Please contact us at <a class="reference external" href="mailto:perfsonar-lead&#37;&#52;&#48;internet2&#46;edu">perfsonar-lead<span>&#64;</span>internet2<span>&#46;</span>edu</a>.</p>
</div>
<div class="section" id="q-where-can-i-ask-questions-or-report-bugs">
<h3>Q: Where can I ask questions or report bugs?<a class="headerlink" href="#q-where-can-i-ask-questions-or-report-bugs" title="Permalink to this headline">¶</a></h3>
<p><strong>A:</strong> For questions, send email to perfsonar-user at internet2 dot edu. You may also join the mailing list by visiting <a class="reference external" href="https://lists.internet2.edu/sympa/info/perfsonar-user">https://lists.internet2.edu/sympa/info/perfsonar-user</a>.</p>
<p>Report bugs at <a class="reference external" href="https://github.com/perfsonar/project/issues">https://github.com/perfsonar/project/issues</a>.</p>
</div>
<div class="section" id="q-which-licenses-do-perfsonar-products-use">
<h3>Q: Which licenses do perfSONAR products use?<a class="headerlink" href="#q-which-licenses-do-perfsonar-products-use" title="Permalink to this headline">¶</a></h3>
<p><strong>A:</strong> perfSONAR components are licensed under the Apache 2.0 license.</p>
</div>
<div class="section" id="q-how-does-version-numbering-work-for-the-perfsonar-project">
<h3>Q: How does version numbering work for the perfSONAR project?<a class="headerlink" href="#q-how-does-version-numbering-work-for-the-perfsonar-project" title="Permalink to this headline">¶</a></h3>
<p><strong>A:</strong> See <a class="reference external" href="https://github.com/perfsonar/project/wiki/Versioning">https://github.com/perfsonar/project/wiki/Versioning</a> if you are interested in learning about our version numbering scheme.</p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <nav id="channelNav" class="channelNav">
                
                <ul>
<li><a class="reference internal" href="#">perfSONAR Frequently Asked Questions (FAQs)</a><ul>
<li><a class="reference internal" href="#installation-questions">Installation Questions</a><ul>
<li><a class="reference internal" href="#q-what-are-the-hardware-requirements-for-running-the-perfsonar-toolkit">Q: What are the hardware requirements for running the perfSONAR Toolkit?</a></li>
<li><a class="reference internal" href="#q-does-my-machine-have-to-meet-the-system-requirements">Q: Does my machine have to meet the System Requirements?</a></li>
<li><a class="reference internal" href="#q-the-services-screen-shows-many-services-in-the-non-running-state-when-first-started-what-is-wrong">Q: The <em>Services</em> screen shows many services in the non-running state when first started, what is wrong?</a></li>
<li><a class="reference internal" href="#q-i-do-not-see-my-service-in-the-directory-of-services-where-is-it">Q: I do not see my service in the directory of services, where is it?</a></li>
<li><a class="reference internal" href="#q-what-should-i-enter-for-the-communities-section-of-my-administrative-information-configuration">Q: What should I enter for the <em>Communities</em> section of my <em>Administrative Information</em> configuration?</a></li>
<li><a class="reference internal" href="#q-i-do-not-think-i-am-a-member-of-a-community-should-i-put-anything">Q: I do not think I am a member of a community, should I put anything?</a></li>
<li><a class="reference internal" href="#q-how-do-i-disable-global-registration">Q: How do I disable global registration?</a></li>
<li><a class="reference internal" href="#q-can-i-boot-from-a-usb-key-instead-of-a-dvd">Q: Can I boot from a USB key instead of a DVD?</a></li>
<li><a class="reference internal" href="#q-during-the-netinstall-i-see-errors-about-a-corrupt-file-being-downloaded-what-should-i-do">Q: During the NetInstall, I see errors about a corrupt file being downloaded. What should I do?</a></li>
<li><a class="reference internal" href="#q-when-trying-a-clean-install-with-perfsonar-toolkit-the-system-doesn-t-recognize-any-disks-doesn-t-see-my-raid-controller-things-work-with-other-operating-systems-what-should-i-do">Q: When trying a clean install with perfSONAR Toolkit, the system doesn’t recognize any disks/doesn’t see my RAID controller. Things work with other operating systems. What should I do?</a></li>
<li><a class="reference internal" href="#q-i-would-like-to-install-and-patch-perfsonar-boxes-behind-a-web-proxy-is-it-possible-to-specify-this-on-the-grub-command-line">Q: I would like to install and patch perfsonar boxes behind a web proxy, is it possible to specify this on the grub command line?</a></li>
<li><a class="reference internal" href="#q-which-repository-addresses-will-be-used-to-get-updates-to-the-perfsonar-software">Q: Which repository addresses will be used to get updates to the perfSONAR software?</a></li>
<li><a class="reference internal" href="#q-is-there-a-way-to-re-image-perfsonar-resources-remotely">Q: Is there a way to re-image perfSONAR resources remotely?</a></li>
<li><a class="reference internal" href="#q-i-am-trying-to-run-perfsonar-on-low-cost-hardware-e-g-raspberry-pi-etc-where-should-i-start">Q: I am trying to run perfSONAR on low-cost hardware (e.g. raspberry pi, etc.). Where should I start?</a></li>
<li><a class="reference internal" href="#q-i-am-running-a-small-node-and-seeing-a-lot-of-io-what-is-going-on">Q: I am running a small node, and seeing a lot of IO. What is going on?</a></li>
<li><a class="reference internal" href="#q-where-can-i-find-more-resources-regarding-timekeeping-for-vmware-virtual-machines">Q: Where can I find more resources regarding timekeeping for VMWare Virtual Machines?</a></li>
<li><a class="reference internal" href="#q-how-do-you-upgrade-a-perfsonar-node-from-debian-7-to-debian-9">Q: How do you upgrade a perfSONAR node from Debian 7 to Debian 9</a></li>
</ul>
</li>
<li><a class="reference internal" href="#tool-questions">Tool Questions</a><ul>
<li><a class="reference internal" href="#q-what-is-pscheduler-and-how-do-i-use-it">Q: What is pScheduler and how do I use it?</a></li>
<li><a class="reference internal" href="#q-what-is-owamp-and-how-do-i-use-it">Q: What is OWAMP and how do I use it?</a></li>
<li><a class="reference internal" href="#q-what-happened-to-the-ndt-and-npad-tools">Q: What happened to the NDT and NPAD tools?</a></li>
<li><a class="reference internal" href="#q-what-happened-to-the-bwctl-tool">Q: What happened to the BWCTL tool?</a></li>
<li><a class="reference internal" href="#q-how-can-i-set-limits-to-prevent-others-from-overusing-my-test-host-what-is-the-purpose-of-pscheduler-limits">Q: How can I set limits to prevent others from overusing my test host? What is the purpose of pscheduler limits?</a></li>
<li><a class="reference internal" href="#q-can-i-run-both-throughput-and-latency-loss-tests-on-the-same-interface-without-interference-due-to-the-way-pscheduler-scheduling-works">Q: Can I run both throughput and latency/loss tests on the same interface without interference due to the way pscheduler scheduling works?</a></li>
<li><a class="reference internal" href="#q-how-can-i-force-testing-over-ipv4-or-ipv6-in-a-psconfig-template">Q: How can I force testing over IPv4 or IPv6 in a pSConfig template?</a></li>
<li><a class="reference internal" href="#q-how-do-i-configure-a-psconfig-template-to-pace-all-tcp-traffic-to-only-5gbps-so-that-i-don-t-use-all-my-sites-bandwidth">Q: How do I configure a pSConfig template to pace all TCP traffic to only 5Gbps, so that I don’t use all my sites bandwidth?</a></li>
<li><a class="reference internal" href="#q-why-do-i-get-such-weird-results-when-i-test-from-a-10g-connected-host-to-1g-connected-host">Q: Why do I get such weird results when I test from a 10G connected host to 1G connected host?</a></li>
<li><a class="reference internal" href="#q-my-perfsonar-results-show-consistent-line-rate-performance-but-a-researcher-at-my-site-is-reporting-really-poor-performance-what-gives">Q: My perfSONAR results show consistent line-rate performance, but a researcher at my site is reporting really poor performance, what gives?</a></li>
<li><a class="reference internal" href="#q-is-there-a-way-to-visualize-gridftp-results-in-maddash">Q: Is there a way to visualize GridFTP results in MaDDash?</a></li>
<li><a class="reference internal" href="#q-when-i-visit-a-maddash-page-my-dashboards-don-t-load-and-i-see-an-error-connections-could-not-be-acquired-from-the-underlying-database-how-do-i-fix-this">Q: When I visit a MaDDash page my dashboards don’t load and I see an error “Connections could not be acquired from the underlying database!”. How do I fix this?</a></li>
</ul>
</li>
<li><a class="reference internal" href="#host-and-network-administration-questions">Host and Network Administration Questions</a><ul>
<li><a class="reference internal" href="#q-where-are-the-relevant-logs-for-perfsonar-services">Q: Where are the relevant logs for perfSONAR services?</a></li>
<li><a class="reference internal" href="#q-can-i-use-a-firewall">Q: Can I use a firewall?</a></li>
<li><a class="reference internal" href="#q-how-many-ntp-servers-do-i-need-can-i-select-them-all">Q: How many NTP servers do I need, can I select them all?</a></li>
<li><a class="reference internal" href="#q-when-setting-up-a-dual-homed-host-how-can-one-get-individual-tests-to-use-one-interface-or-another">Q: When setting up a dual homed host, how can one get individual tests to use one interface or another?</a></li>
<li><a class="reference internal" href="#q-how-do-i-change-the-mtu-for-a-device">Q: How do I change the MTU for a device?</a></li>
<li><a class="reference internal" href="#q-how-can-i-configure-my-toolkit-web-interface-to-display-a-private-ip">Q: How can I configure my toolkit web interface to display a private IP?</a></li>
<li><a class="reference internal" href="#q-how-do-i-change-the-ssl-certificate-used-by-the-web-server">Q: How do I change the SSL certificate used by the web server?</a></li>
<li><a class="reference internal" href="#q-i-forgot-to-enable-ipv6-in-centos-when-i-installed-the-toolkit-how-do-i-enable-it">Q: I forgot to enable IPv6 in CentOS when I installed the toolkit. How do I enable it?</a></li>
<li><a class="reference internal" href="#q-why-is-the-static-ipv6-address-i-assigned-during-the-net-install-process-not-configured-when-my-host-starts-up">Q: Why is the static IPv6 address I assigned during the net-install process not configured when my host starts-up?</a></li>
<li><a class="reference internal" href="#q-how-do-i-setup-a-perfsonar-node-to-have-two-interfaces-on-the-same-subnet">Q: How do I setup a perfSONAR node to have two interfaces on the same subnet?</a></li>
<li><a class="reference internal" href="#q-what-tcp-congestion-control-algorithm-is-used-by-the-perfsonar-toolkit">Q: What TCP congestion control algorithm is used by the perfSONAR Toolkit?</a></li>
<li><a class="reference internal" href="#q-how-can-i-add-custom-rules-to-my-firewall">Q: How can I add custom rules to my firewall?</a></li>
<li><a class="reference internal" href="#q-is-it-possible-to-change-the-default-port-for-tool-x">Q: Is it possible to change the default port for tool X?</a></li>
<li><a class="reference internal" href="#q-why-doesn-t-the-perfsonar-toolkit-include-the-most-recent-version-of-vendor-xs-driver">Q: Why doesn’t the perfSONAR toolkit include the most recent version of vendor X’s driver?</a></li>
<li><a class="reference internal" href="#q-how-can-i-configure-yum-to-automatically-update-the-system">Q: How can I configure yum to automatically update the system?</a></li>
<li><a class="reference internal" href="#q-my-host-was-impacted-by-linux-security-issue-shellshock-heartbleed-etc-what-should-i-do">Q: My host was impacted by Linux security issue (Shellshock/Heartbleed/etc.). What should I do?</a></li>
<li><a class="reference internal" href="#q-how-to-get-rid-of-there-isn-t-a-perfsonar-sudo-user-defined-message">Q: How to get rid of “There isn’t a perfSONAR sudo user defined” message?</a></li>
<li><a class="reference internal" href="#q-is-it-possible-to-use-non-intel-sfp-optics-in-the-intel-x520-sr2-nic">Q: Is it possible to use non-intel SFP+ optics in the Intel X520-SR2 NIC?</a></li>
<li><a class="reference internal" href="#q-how-can-i-tune-a-dell-server-for-a-high-throughput-and-low-latency">Q: How can I tune a Dell server for a high throughput and low latency?</a></li>
<li><a class="reference internal" href="#q-how-do-i-backup-a-perfsonar-instance-or-migrate-the-configuration-and-data-to-a-new-machine">Q: How do I backup a perfSONAR instance or migrate the configuration and data to a new machine?</a></li>
<li><a class="reference internal" href="#q-what-is-ptp">Q: What is PTP?</a></li>
<li><a class="reference internal" href="#q-what-is-required-to-use-ptp-in-my-network">Q: What is required to use PTP in my network?</a></li>
<li><a class="reference internal" href="#q-does-perfsonar-support-ptp">Q: Does perfSONAR support PTP?</a></li>
<li><a class="reference internal" href="#q-when-trying-to-migrate-from-a-centos-6-to-a-centos-7-host-i-receive-pg-dump-error-how-to-fix-it">Q: When trying to migrate from a CentOS 6 to a CentOS 7 host I receive pg_dump error. How to fix it?</a></li>
</ul>
</li>
<li><a class="reference internal" href="#perfsonar-archive-esmond-questions">perfSONAR Archive (esmond) Questions</a><ul>
<li><a class="reference internal" href="#q-how-much-memory-is-needed-for-a-host-running-an-ma">Q: How much memory is needed for a host running an MA?</a></li>
<li><a class="reference internal" href="#q-i-have-a-measurement-archive-machine-with-esmond-running-and-there-is-a-separate-disk-partition-mounted-on-the-machine-where-i-want-to-store-all-the-incoming-measurement-data-from-measurement-points-what-is-the-proper-way-to-change-the-default-directory-location-for-storing-the-measurement-archive-data">Q: I have a measurement archive machine with esmond running, and there is a separate disk partition mounted on the machine where I want to store all the incoming measurement data from measurement points. What is the proper way to change the default directory location for storing the measurement archive data?</a></li>
<li><a class="reference internal" href="#q-how-can-i-nuke-all-of-the-data-in-esmond-and-start-from-scratch">Q: How can I nuke all of the data in esmond, and start from scratch?</a></li>
<li><a class="reference internal" href="#q-i-have-a-central-ma-for-my-perfsonar-data-what-happens-if-the-central-ma-goes-down-for-a-while-or-the-network-is-unavailable-between-the-beacons-and-the-ma-are-the-measurements-lost-or-are-they-buffered-to-be-delivered-later-does-this-have-any-effect-on-the-timing-of-subsequent-measurements">Q: I have a central MA for my perfSONAR data. What happens if the central MA goes down for a while, or the network is unavailable between the beacons and the MA? Are the measurements lost, or are they buffered to be delivered later? Does this have any effect on the timing of subsequent measurements?</a></li>
<li><a class="reference internal" href="#q-what-if-there-are-multiple-mas-used-for-a-central-ma-architecture-but-only-one-is-down-or-unreachable-what-will-happen">Q: What if there are multiple MAs used for a central MA architecture, but only one is down or unreachable, what will happen?</a></li>
<li><a class="reference internal" href="#q-cassandra-seems-to-be-using-100-cpu-on-my-system-and-i-can-t-figure-out-why">Q: Cassandra seems to be using 100% CPU on my system and I can’t figure out why.</a></li>
<li><a class="reference internal" href="#q-how-can-i-clean-up-the-data-in-my-esmond-instance">Q: How can I clean up the data in my esmond instance?</a></li>
<li><a class="reference internal" href="#q-how-can-i-backup-the-data-in-my-esmond-instance">Q: How can I backup the data in my esmond instance?</a></li>
<li><a class="reference internal" href="#q-where-can-i-find-documentation-on-interacting-with-perfsonar-archive-via-a-custom-client">Q: Where can I find documentation on interacting with perfSONAR archive via a custom client?</a></li>
<li><a class="reference internal" href="#q-how-can-i-get-cassandra-to-run-on-a-host-that-only-has-an-ipv6-address">Q: How can I get cassandra to run on a host that only has an IPv6 address?</a></li>
</ul>
</li>
<li><a class="reference internal" href="#perfsonar-project-questions">perfSONAR Project Questions</a><ul>
<li><a class="reference internal" href="#q-how-do-i-join-the-perfsonar-collaboration">Q: How do I join the perfSONAR Collaboration?</a></li>
<li><a class="reference internal" href="#q-where-can-i-ask-questions-or-report-bugs">Q: Where can I ask questions or report bugs?</a></li>
<li><a class="reference internal" href="#q-which-licenses-do-perfsonar-products-use">Q: Which licenses do perfSONAR products use?</a></li>
<li><a class="reference internal" href="#q-how-does-version-numbering-work-for-the-perfsonar-project">Q: How does version numbering work for the perfSONAR project?</a></li>
</ul>
</li>
</ul>
</li>
</ul>

                <ul>
                  <li>
                  <a href="troubleshooting_overview.html">Previous topic</a>
                  <ul><li><a href="troubleshooting_overview.html" title="previous chapter">Troubleshooting perfSONAR</a></li></ul>
                  </li>
                </ul>
                  <ul>
                      <li>
                      <a href="client_tools.html">Next topic</a>
                      <ul><li><a href="client_tools.html" title="next chapter">perfSONAR Client Tools</a></li></ul>
                      </li>
                  </ul>
                
                
            </nav>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="client_tools.html" title="perfSONAR Client Tools"
             >next</a> |</li>
        <li class="right" >
          <a href="troubleshooting_overview.html" title="Troubleshooting perfSONAR"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">perfSONAR Toolkit 4.4.5 documentation</a> &#187;</li> 
      </ul>
    </div>
    <footer id="fat">
        <div class="footerContents">
            <nav id="fatFooterNav" class="fatFooterNav">
                <ul id="menu-partners" class="menu depth-0">
                    <li id="footer-partner-text" class="partner-menu">
                        perfSONAR 
                        <br>
                        partners 
                        <br>
                        include: 
                    </li>
    
                <li id="footer-partner-esnet" class="partner-menu">
                    <a href="http://www.es.net/" title="Visit DOE's Energy Sciences Network"><img src="_static/ESnet-ps.png" alt="" style="border:none;"></a> </li>
                
                <li id="footer-partner-geant" class="partner-menu">
                    <a href="http://www.geant.org/" title="Visit GEANT"><img src="_static/geant-ps.png" alt="" style="border:none;"/></a> </li>
        
                <li id="footer-partner-iu" class="partner-menu">
                    <a href="http://www.iu.edu/" title="Visit Indiana University"><img src="_static/IU-ps.png" alt="" style="border:none;"></a> </li>

                <li id="footer-partner-i2" class="partner-menu">
                    <a href="http://www.internet2.edu/" title="Visit Internet2"><img src="_static/I2-ps.png" alt="" style="border:none;"></a> </li>
					
				<li id="footer-partner-rnp" class="partner-menu">
                    <a href="https://www.rnp.br/en" title="Visit RNP"><img src="_static/rnp.png" alt="" style="border:none;"></a> </li>
                
                <li id="footer-partner-um" class="partner-menu">
                    <a href="http://www.umich.edu/" title="Visit University of Michigan"><img src="_static/UM-ps.png" alt="" style="border:none;"></a> </li>

                </ul>

            </nav>
            <nav id="minFooterNav" class="minFooterNav">
                <span class="copyright">PERFormance Service Oriented Network monitoring ARchitecture </span>
            </nav>
          
        </div> <!-- /footerContents -->
    </footer>
    
    <div class="footer" role="contentinfo">
        &#169; Copyright 2022, perfSONAR Project.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.4.4.
    </div>
  </body>
</html>
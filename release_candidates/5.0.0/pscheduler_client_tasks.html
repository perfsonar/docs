
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>Creating and Managing Tasks &#8212; perfSONAR Toolkit 5.0.0b1 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/classic.css" />
    <link rel="stylesheet" href="_static/perfsonar.css" type="text/css" />
    
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/sphinx_highlight.js"></script>
    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Viewing the Schedule" href="pscheduler_client_schedule.html" />
    <link rel="prev" title="What is pScheduler?" href="pscheduler_intro.html" /> 
  </head><body>
    <header>
        <div class="headerContents">
          <a href="index.html" border="0"><img src="_static/perfSONAR-header.gif"></a>
          <div class="acctSearchContainer">
              <section id="searchBox" class="searchBox">
                  <!--Use of this code assumes agreement with the Google Custom Search Terms of Service. -->
                  <!--The terms of service are available at http://www.google.com/cse/docs/tos.html -->
                  <form action="search.html" id="cse-search-box" method="get">
                    <input type="text" name="q" size="25" class="searchInput" placeholder="Search"/>
                    <input type="hidden" name="check_keywords" value="yes" />
                    <input type="hidden" name="area" value="default" />
                  </form>
              </section>
         </div>
        </div>
    </header>
    <div style="display:block;clear:both;">
    
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="pscheduler_client_schedule.html" title="Viewing the Schedule"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="pscheduler_intro.html" title="What is pScheduler?"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">perfSONAR Toolkit 5.0.0b1 documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Creating and Managing Tasks</a></li> 
      </ul>
    </div>
    </div>
    
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="creating-and-managing-tasks">
<h1>Creating and Managing Tasks<a class="headerlink" href="#creating-and-managing-tasks" title="Permalink to this heading">¶</a></h1>
<section id="the-task-command">
<span id="pscheduler-client-tasks-taskcmd"></span><h2>The <cite>task</cite> command<a class="headerlink" href="#the-task-command" title="Permalink to this heading">¶</a></h2>
<p>The <cite>pscheduler task</cite> command is the primary way from the command-line to create new pScheduler <a class="reference internal" href="pscheduler_intro.html#term-Task"><span class="xref std std-term">tasks</span></a>. It takes the following form:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pscheduler</span> <span class="n">task</span> <span class="p">[</span> <span class="n">TASK_OPTIONS</span> <span class="p">]</span> <span class="n">TEST_TYPE</span> <span class="n">TEST_OPTIONS</span>
</pre></div>
</div>
</section>
<section id="the-basics">
<span id="pscheduler-client-tasks-basics"></span><h2>The Basics<a class="headerlink" href="#the-basics" title="Permalink to this heading">¶</a></h2>
<p>The simplest task that can be run is a one-shot test with no special options, such as this one which conducts a round-trip time (<em>rtt</em>) test between the local host and <em>www.perfsonar.net</em>, then displays the results:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pscheduler</span> <span class="n">task</span> <span class="n">rtt</span> <span class="o">--</span><span class="n">dest</span> <span class="n">www</span><span class="o">.</span><span class="n">perfsonar</span><span class="o">.</span><span class="n">net</span>
</pre></div>
</div>
<p>Note that the <code class="docutils literal notranslate"><span class="pre">--dest</span></code> option following <code class="docutils literal notranslate"><span class="pre">rtt</span></code> is a <a class="reference internal" href="pscheduler_intro.html#term-Test"><span class="xref std std-term">test</span></a> option specific to the test type being requested.  Each test has its own set of options, so what follows the test type will vary.  Most tests that have an option in common that serves the same purpose have consistent names between them.  For example, many tests that involve sending data to another host (<em>rtt</em>, <em>trace</em>, <em>throughput</em>, <em>latency</em>) will specify the other hosts using the <code class="docutils literal notranslate"><span class="pre">--dest</span></code> option.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">task</span></code> command has a set of its own options that go before the test type.  These options are related to how the task is run rather than what test is being conducted.  For example, the <code class="docutils literal notranslate"><span class="pre">--quiet</span></code> switch suppresses the diagnostic information that is usually produced:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pscheduler</span> <span class="n">task</span> <span class="o">--</span><span class="n">quiet</span> <span class="n">rtt</span> <span class="o">--</span><span class="n">dest</span> <span class="n">www</span><span class="o">.</span><span class="n">perfsonar</span><span class="o">.</span><span class="n">net</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You can get a full listing of supported task options by running <code class="docutils literal notranslate"><span class="pre">pscheduler</span> <span class="pre">task</span> <span class="pre">--help</span></code>. Likewise you can get a full listing of test-specific options by running <code class="docutils literal notranslate"><span class="pre">pscheduler</span> <span class="pre">task</span> <span class="pre">TEST_TYPE</span> <span class="pre">--help</span></code> where <code class="docutils literal notranslate"><span class="pre">TEST_TYPE</span></code> is replaced with the type of test you want to run.</p>
</div>
</section>
<section id="running-tests-from-other-hosts">
<span id="pscheduler-client-tasks-otherhosts"></span><h2>Running Tests from Other Hosts<a class="headerlink" href="#running-tests-from-other-hosts" title="Permalink to this heading">¶</a></h2>
<p>pScheduler determines where to submits a task based on the test parameters. Where a task needs to be submitted is called the <a class="reference internal" href="pscheduler_intro.html#term-Lead-Participant"><span class="xref std std-term">lead participant</span></a>. For many tests run by perfSONAR, a <code class="docutils literal notranslate"><span class="pre">--source</span></code> switch which specifies where the test should originate and is also the <em>lead participant</em>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pscheduler</span> <span class="n">task</span> <span class="n">throughput</span> <span class="o">--</span><span class="n">source</span> <span class="n">host2</span> <span class="o">--</span><span class="n">dest</span> <span class="n">host3</span>
</pre></div>
</div>
<p>If the example command above is run on <em>host1</em>, then the client will submit the task to <em>host2</em> and the test will be run between <em>host2</em> and <em>host3</em>.</p>
<p>Not all tests use the source to calculate the lead participant and determining it can get complicated when dealing with things like BWCTL backward compatibility, etc. Luckily, each test plug-in installed on a pScheduler server has the logic required to calculate the lead in the face of this complexity. This does mean though, that the <code class="docutils literal notranslate"><span class="pre">pscheduler</span></code> command needs to be able to ask a pScheduler server, called the <a class="reference internal" href="pscheduler_intro.html#term-Assist-Server"><span class="xref std std-term">assist server</span></a>, where a task needs to be submitted.</p>
<p>By default, the <code class="docutils literal notranslate"><span class="pre">pscheduler</span></code> command will assume there is a pScheduler server running on the local host and try to contact that as the default assist server. If there is NOT a pScheduler server on the local host, then you need to use the <code class="docutils literal notranslate"><span class="pre">--assist</span></code> flag. For example, say we run the following on <em>host4</em> and it does not have a pScheduler server but we know that <em>host1</em> does. Our command could be as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pscheduler</span> <span class="n">task</span> <span class="o">--</span><span class="n">assist</span> <span class="n">host1</span> <span class="n">throughput</span> <span class="o">--</span><span class="n">source</span> <span class="n">host2</span> <span class="o">--</span><span class="n">dest</span> <span class="n">host3</span>
</pre></div>
</div>
<p>The assist server could just as easily be <code class="docutils literal notranslate"><span class="pre">host2</span></code> or <code class="docutils literal notranslate"><span class="pre">host3</span></code> if they are also running pScheduler servers. It does not matter where the assist server is as long as it a) has a pScheduler server and b) has the test plugin installed for the type of test you want to run.</p>
</section>
<section id="selecting-tool-s-for-tasks">
<span id="pscheduler-client-tasks-tools"></span><h2>Selecting Tool(s) for Tasks<a class="headerlink" href="#selecting-tool-s-for-tasks" title="Permalink to this heading">¶</a></h2>
<p>By default, pScheduler will automatically select a tool for a task based on three factors:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>Availability of tools on each of the participating nodes that can conduct the type of test requested.</p></li>
<li><p>The ability of those tools to carry out the test according to the parameters.  Not all tools are capable of making good on all of the parameters.  For example, <em>traceroute</em> is capable of setting the number of hops allowed by adjusting the time to live but <em>tracepath</em> is not.  In a <em>trace</em> test where this is requested, <em>traceroute</em> will list itself as able to participate but <em>tracepath</em> will not.</p></li>
<li><p>A preference value hard-wired into each tool by its authors.  If multiple tools can carry out a task as requested, pScheduler will select one with the highest preference value or, in the event of a tie, the one that is alphabetically first.  The preference value is used to promote the use of newer, better tools while still keeping older, deprecated tools available for situations where they’re required.</p></li>
</ol>
</div></blockquote>
<p>Using the <code class="docutils literal notranslate"><span class="pre">--tool</span></code> switch, the user can control what tool(s) pScheduler selects for a task:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pscheduler</span> <span class="n">task</span> <span class="o">--</span><span class="n">tool</span> <span class="n">tracepath</span> <span class="n">trace</span> <span class="o">--</span><span class="n">dest</span> <span class="n">www</span><span class="o">.</span><span class="n">perfsonar</span><span class="o">.</span><span class="n">net</span>
</pre></div>
</div>
<p>This will specify that the <code class="docutils literal notranslate"><span class="pre">tracepath</span></code> tool should be used for running the test.  Similarly, repeating the switch forms a list of acceptable tools with those specified earlier being preferred over those specified later.  For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pscheduler</span> <span class="n">task</span> <span class="o">--</span><span class="n">tool</span> <span class="n">tracepath</span> <span class="o">--</span><span class="n">tool</span> <span class="n">paris</span><span class="o">-</span><span class="n">traceroute</span> <span class="n">trace</span> <span class="o">--</span><span class="n">dest</span> <span class="n">www</span><span class="o">.</span><span class="n">perfsonar</span><span class="o">.</span><span class="n">net</span>
</pre></div>
</div>
<p>Whether or not tools are specified, a task where no available tool is capable of making the measurement will be rejected.</p>
</section>
<section id="repeating-tasks">
<span id="pscheduler-client-tasks-repeating"></span><h2>Repeating Tasks<a class="headerlink" href="#repeating-tasks" title="Permalink to this heading">¶</a></h2>
<p>Any pScheduler task can be configured to run repeatedly by adding options to the <code class="docutils literal notranslate"><span class="pre">task</span></code> command:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">--start</span> <span class="pre">TIMESTAMP</span></code> - Run the first iteration of the task at _timestamp_.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--repeat</span> <span class="pre">DURATION</span></code> - Repeat runs at intervals of <code class="docutils literal notranslate"><span class="pre">DURATION</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--repeat-cron</span> <span class="pre">CRONSPEC</span></code> - Repeat runs cron(8)-style according to <code class="docutils literal notranslate"><span class="pre">CRONSPEC</span></code>.  <code class="docutils literal notranslate"><span class="pre">CRONSPEC</span></code> is a <a class="reference external" href="https://pubs.opengroup.org/onlinepubs/9699919799/utilities/crontab.html">POSIX-standard cron entry specification</a>  without a shell command attached (e.g., <code class="docutils literal notranslate"><span class="pre">0,20,40</span> <span class="pre">*</span> <span class="pre">*</span> <span class="pre">*</span> <span class="pre">1-5</span></code>).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--max-runs</span> <span class="pre">N</span></code> - Allow the task to run up to <code class="docutils literal notranslate"><span class="pre">N</span></code> times.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--until</span> <span class="pre">TIMESTAMP</span></code> - Repeat runs of the task until <code class="docutils literal notranslate"><span class="pre">TIMESTAMP</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--slip</span> <span class="pre">DURATION</span></code> - Allow the start of each run to be as much as <code class="docutils literal notranslate"><span class="pre">DURATION</span></code> later than their ideal scheduled time.  If the environment variable <em>PSCHEDULER_SLIP</em> is present, its value will be used as a default, and.  Failing that, the default will be <code class="docutils literal notranslate"><span class="pre">PT5M</span></code>.  (Note that the slip value also applies to non-repeating tasks.)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--sliprand</span></code> - Randomly choose a timeslot within the allowed slip instead of choosing earliest available</p></li>
</ul>
</div></blockquote>
<p>For example, to measure round-trip time 50 times once per hour:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pscheduler</span> <span class="n">task</span> <span class="o">--</span><span class="n">repeat</span> <span class="n">PT1H</span> <span class="o">--</span><span class="nb">max</span><span class="o">-</span><span class="n">runs</span> <span class="mi">50</span> <span class="n">rtt</span> <span class="o">--</span><span class="n">dest</span> <span class="n">www</span><span class="o">.</span><span class="n">perfsonar</span><span class="o">.</span><span class="n">net</span>
</pre></div>
</div>
<p>For example, to measure round-trip time at zero, 20 and 40 minutes past the top of each hour on weekdays:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pscheduler</span> <span class="n">task</span> <span class="o">--</span><span class="n">repeat</span><span class="o">-</span><span class="n">cron</span> <span class="s2">&quot;0,20,40 * * * 1-5&quot;</span> <span class="n">rtt</span> <span class="o">--</span><span class="n">dest</span> <span class="n">www</span><span class="o">.</span><span class="n">perfsonar</span><span class="o">.</span><span class="n">net</span>
</pre></div>
</div>
<p>Note that <code class="docutils literal notranslate"><span class="pre">--repeat</span></code> and <code class="docutils literal notranslate"><span class="pre">--repeat-cron</span></code> may be used in the same task but their behavior together will be complex hard to predict easily.  Use of both at the same time is not recommended.</p>
<p>It is strongly recommended that repeating tasks apply as much slip as is tolerable to allow pScheduler to work around scheduling conflicts.  Larger slip values will will give tasks a better chance of executing.  For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pscheduler</span> <span class="n">task</span> <span class="o">--</span><span class="n">repeat</span> <span class="n">PT1H</span> <span class="o">--</span><span class="n">slip</span> <span class="n">PT30M</span> <span class="n">rtt</span> <span class="o">--</span><span class="n">dest</span> <span class="n">www</span><span class="o">.</span><span class="n">perfsonar</span><span class="o">.</span><span class="n">net</span>
</pre></div>
</div>
<p>Repeating tasks can be stopped using the <code class="docutils literal notranslate"><span class="pre">cancel</span></code> command.</p>
</section>
<section id="archiving-tasks">
<span id="pscheduler-client-tasks-archiving"></span><h2>Archiving Tasks<a class="headerlink" href="#archiving-tasks" title="Permalink to this heading">¶</a></h2>
<p>You can tell the <code class="docutils literal notranslate"><span class="pre">pscheduler</span></code> command to send results to an <a class="reference internal" href="pscheduler_intro.html#term-Archiver"><span class="xref std std-term">archiver</span></a> using the <code class="docutils literal notranslate"><span class="pre">--archive</span></code> switch. The definition you give the archiver can take two forms:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>A filename starting with the &#64; symbol that points at a file containing a JSON archiver specification.</p></li>
<li><p>A string literal of the JSON archiver specification</p></li>
</ol>
</div></blockquote>
<p>For example, the <em>perfsonar-core</em> and <em>perfsonar-toolkit</em> bundles install a special script you can use to generate a local archive definition: <code class="docutils literal notranslate"><span class="pre">/usr/lib/perfsonar/archive/perfsonar-scripts/psconfig_archive.sh</span> <span class="pre">-n</span> <span class="pre">localhost</span> <span class="pre">&gt;</span> <span class="pre">local_archive.json</span></code>. You could then use that file to publish a <em>trace</em> test (or any other test) to the local archive instance with the following command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pscheduler</span> <span class="n">task</span> <span class="o">--</span><span class="n">archive</span> <span class="nd">@local_archive</span><span class="o">.</span><span class="n">json</span> <span class="n">trace</span> <span class="o">--</span><span class="n">dest</span> <span class="n">www</span><span class="o">.</span><span class="n">perfsonar</span><span class="o">.</span><span class="n">net</span>
</pre></div>
</div>
<p>Alternatively, you could use a JSON string to accomplish the same as follows (replacing <code class="docutils literal notranslate"><span class="pre">eXamPleTokEn</span></code> with the auth used for your logstash instance)</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pscheduler</span> <span class="n">task</span> <span class="o">--</span><span class="n">archive</span> <span class="s1">&#39;{&quot;archiver&quot;: &quot;http&quot;,&quot;data&quot;:{ &quot;_url&quot;:&quot;http://localhost/logstash&quot;, &quot;verify-ssl&quot;: false, &quot;op&quot;: &quot;put&quot;, &quot;_headers&quot;: { &quot;x-ps-observer&quot;: &quot;{</span><span class="si">% s</span><span class="s1">cheduled_by_address %}&quot;, &quot;content-type&quot;: &quot;application/json&quot;, &quot;Authorization&quot;:&quot;Basic eXamPleTokEn&quot; }}}&#39;</span> <span class="n">trace</span> <span class="o">--</span><span class="n">dest</span> <span class="n">www</span><span class="o">.</span><span class="n">perfsonar</span><span class="o">.</span><span class="n">net</span>
</pre></div>
</div>
<p>For more information on different archivers and their specifications, see <a class="reference internal" href="pscheduler_ref_archivers.html"><span class="doc">Archiver Reference</span></a>.</p>
<p>If a task has archives specified, the <cite>–keep-after-archive</cite> parameter
may be added to force runs to be removed from the system after the
specified amount of time to save space.  For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pscheduler</span> <span class="n">task</span> <span class="o">--</span><span class="n">archive</span> <span class="s1">&#39;...&#39;</span> <span class="o">--</span><span class="n">keep</span><span class="o">-</span><span class="n">after</span><span class="o">-</span><span class="n">archive</span> <span class="n">PT30S</span> <span class="n">trace</span> <span class="o">--</span><span class="n">dest</span> <span class="n">www</span><span class="o">.</span><span class="n">perfsonar</span><span class="o">.</span><span class="n">net</span>
</pre></div>
</div>
</section>
<section id="exporting-tasks-to-json">
<span id="pscheduler-client-tasks-exporting"></span><h2>Exporting tasks to JSON<a class="headerlink" href="#exporting-tasks-to-json" title="Permalink to this heading">¶</a></h2>
<p>The JSON version of a task specification can be sent to the standard output without scheduling using the <code class="docutils literal notranslate"><span class="pre">--export</span></code> switch:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pscheduler</span> <span class="n">task</span> <span class="o">--</span><span class="n">export</span> <span class="n">throughput</span> <span class="o">--</span><span class="n">dest</span> <span class="n">wherever</span> <span class="o">--</span><span class="n">udp</span> <span class="o">--</span><span class="n">ip</span><span class="o">-</span><span class="n">version</span> <span class="mi">6</span> <span class="o">&gt;</span> <span class="n">mytask</span><span class="o">.</span><span class="n">json</span>
</pre></div>
</div>
</section>
<section id="exporting-tasks-for-the-batch-processor">
<h2>Exporting tasks for the Batch Processor<a class="headerlink" href="#exporting-tasks-for-the-batch-processor" title="Permalink to this heading">¶</a></h2>
<p>A minimal batch specification can be sent to the standard output
without scheduling using the <code class="docutils literal notranslate"><span class="pre">--export</span></code> and <code class="docutils literal notranslate"><span class="pre">--export-format</span>
<span class="pre">batch</span></code> switches:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pscheduler</span> <span class="n">task</span> <span class="o">--</span><span class="n">export</span> <span class="o">--</span><span class="n">export</span><span class="o">-</span><span class="nb">format</span> <span class="n">batch</span> <span class="n">rtt</span> <span class="o">--</span><span class="n">dest</span> <span class="n">wherever</span> <span class="o">&gt;</span> <span class="n">mybatch</span><span class="o">.</span><span class="n">json</span>
</pre></div>
</div>
<p><strong>NOTE:</strong>  Tasks are not validated until submitted for scheduling, so it is possible to export invalid tasks.</p>
</section>
<section id="importing-tasks-from-json">
<span id="pscheduler-client-tasks-importing"></span><h2>Importing tasks from JSON<a class="headerlink" href="#importing-tasks-from-json" title="Permalink to this heading">¶</a></h2>
<p>A JSON file that was previously exported or generated elsewhere can be imported using the <code class="docutils literal notranslate"><span class="pre">--import</span></code> switch:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pscheduler</span> <span class="n">task</span> <span class="o">--</span><span class="kn">import</span> <span class="nn">mytask.json</span> <span class="n">throughput</span>
</pre></div>
</div>
<p>Test parameters may be changed on the fly by adding them to the command line after the test type:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pscheduler</span> <span class="n">task</span> <span class="o">--</span><span class="kn">import</span> <span class="nn">mytask.json</span> <span class="n">throughput</span> <span class="o">--</span><span class="n">dest</span> <span class="n">somewhere</span><span class="o">.</span><span class="k">else</span>
</pre></div>
</div>
</section>
<section id="substituting-files-for-test-parameters">
<span id="pscheduler-client-tasks-substitutions"></span><h2>Substituting Files for Test Parameters<a class="headerlink" href="#substituting-files-for-test-parameters" title="Permalink to this heading">¶</a></h2>
<p>All test parameters (i.e., those after the test type) may have their
values read from a file by preceding the path to the file with an
at sign (<code class="docutils literal notranslate"><span class="pre">&#64;</span></code>):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pscheduler</span> <span class="n">task</span> <span class="n">throughput</span> <span class="o">--</span><span class="n">dest</span> <span class="o">@~/</span><span class="n">mystuff</span><span class="o">/</span><span class="n">destination</span><span class="o">.</span><span class="n">txt</span> <span class="o">--</span><span class="n">duration</span> <span class="n">PT1M</span>
</pre></div>
</div>
<p>For arguments that need to begin with a literal <code class="docutils literal notranslate"><span class="pre">&#64;</span></code>, this feature
can be disabled by escaping the first character with a backslash:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pscheduler</span> <span class="n">task</span> <span class="n">idle</span> <span class="o">--</span><span class="n">starting</span><span class="o">-</span><span class="n">comment</span> <span class="s1">&#39;\@keep-this-argument-as-is&#39;</span> <span class="o">--</span><span class="n">duration</span> <span class="n">PT2S</span>
</pre></div>
</div>
</section>
<section id="canceling-tasks">
<span id="pscheduler-client-tasks-canceling"></span><h2>Canceling Tasks<a class="headerlink" href="#canceling-tasks" title="Permalink to this heading">¶</a></h2>
<p>You may cancel a task with the <code class="docutils literal notranslate"><span class="pre">pscheduler</span> <span class="pre">cancel</span></code> command which takes the following form:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pscheduler</span> <span class="n">cancel</span> <span class="n">TASK_URL</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">TASK_URL</span></code> is the full URL of the task to be canceled and should have been output by the <code class="docutils literal notranslate"><span class="pre">pscheduler</span> <span class="pre">task</span></code> command when a task was submitted. This command cancels any future runs of the task specified. The task itself plus all runs prior to the time of the transaction remain intact. Any run of the task which is underway will continue to completion. The task will still be in the database but will be marked as disabled. This means you will still be able to query results of runs completed prior to cancellation but no new results will be generated. A full example of the command is shown below:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pscheduler</span> <span class="n">cancel</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">ps</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">org</span><span class="o">/</span><span class="n">pscheduler</span><span class="o">/</span><span class="n">tasks</span><span class="o">/</span><span class="n">f1fc3a56</span><span class="o">-</span><span class="mi">080</span><span class="n">c</span><span class="o">-</span><span class="mi">46</span><span class="n">ec</span><span class="o">-</span><span class="n">a777</span><span class="o">-</span><span class="mi">91</span><span class="n">c26460a233</span>
</pre></div>
</div>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <nav id="channelNav" class="channelNav">
                
                <ul>
<li><a class="reference internal" href="#">Creating and Managing Tasks</a><ul>
<li><a class="reference internal" href="#the-task-command">The <cite>task</cite> command</a></li>
<li><a class="reference internal" href="#the-basics">The Basics</a></li>
<li><a class="reference internal" href="#running-tests-from-other-hosts">Running Tests from Other Hosts</a></li>
<li><a class="reference internal" href="#selecting-tool-s-for-tasks">Selecting Tool(s) for Tasks</a></li>
<li><a class="reference internal" href="#repeating-tasks">Repeating Tasks</a></li>
<li><a class="reference internal" href="#archiving-tasks">Archiving Tasks</a></li>
<li><a class="reference internal" href="#exporting-tasks-to-json">Exporting tasks to JSON</a></li>
<li><a class="reference internal" href="#exporting-tasks-for-the-batch-processor">Exporting tasks for the Batch Processor</a></li>
<li><a class="reference internal" href="#importing-tasks-from-json">Importing tasks from JSON</a></li>
<li><a class="reference internal" href="#substituting-files-for-test-parameters">Substituting Files for Test Parameters</a></li>
<li><a class="reference internal" href="#canceling-tasks">Canceling Tasks</a></li>
</ul>
</li>
</ul>

                <ul>
                  <li>
                  <a href="pscheduler_intro.html">Previous topic</a>
                  <ul><li><a href="pscheduler_intro.html" title="previous chapter">What is pScheduler?</a></li></ul>
                  </li>
                </ul>
                  <ul>
                      <li>
                      <a href="pscheduler_client_schedule.html">Next topic</a>
                      <ul><li><a href="pscheduler_client_schedule.html" title="next chapter">Viewing the Schedule</a></li></ul>
                      </li>
                  </ul>
                
                
            </nav>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="pscheduler_client_schedule.html" title="Viewing the Schedule"
             >next</a> |</li>
        <li class="right" >
          <a href="pscheduler_intro.html" title="What is pScheduler?"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">perfSONAR Toolkit 5.0.0b1 documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Creating and Managing Tasks</a></li> 
      </ul>
    </div>
    <footer id="fat">
        <div class="footerContents">
            <nav id="fatFooterNav" class="fatFooterNav">
                <ul id="menu-partners" class="menu depth-0">
                    <li id="footer-partner-text" class="partner-menu">
                        perfSONAR 
                        <br>
                        partners 
                        <br>
                        include: 
                    </li>
    
                <li id="footer-partner-esnet" class="partner-menu">
                    <a href="http://www.es.net/" title="Visit DOE's Energy Sciences Network"><img src="_static/ESnet-ps.png" alt="" style="border:none;"></a> </li>
                
                <li id="footer-partner-geant" class="partner-menu">
                    <a href="http://www.geant.org/" title="Visit GEANT"><img src="_static/geant-ps.png" alt="" style="border:none;"/></a> </li>
        
                <li id="footer-partner-iu" class="partner-menu">
                    <a href="http://www.iu.edu/" title="Visit Indiana University"><img src="_static/IU-ps.png" alt="" style="border:none;"></a> </li>

                <li id="footer-partner-i2" class="partner-menu">
                    <a href="http://www.internet2.edu/" title="Visit Internet2"><img src="_static/I2-ps.png" alt="" style="border:none;"></a> </li>
					
				<li id="footer-partner-rnp" class="partner-menu">
                    <a href="https://www.rnp.br/en" title="Visit RNP"><img src="_static/rnp.png" alt="" style="border:none;"></a> </li>
                
                <li id="footer-partner-um" class="partner-menu">
                    <a href="http://www.umich.edu/" title="Visit University of Michigan"><img src="_static/UM-ps.png" alt="" style="border:none;"></a> </li>

                </ul>

            </nav>
            <nav id="minFooterNav" class="minFooterNav">
                <span class="copyright">PERFormance Service Oriented Network monitoring ARchitecture </span>
            </nav>
          
        </div> <!-- /footerContents -->
    </footer>
    
    <div class="footer" role="contentinfo">
        &#169; Copyright 2023, perfSONAR Project.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 6.1.3.
    </div>
  </body>
</html>
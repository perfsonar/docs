

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Customizing the MaDDash Web Interface &mdash; perfSONAR Toolkit 5.0.0b1 documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/perfsonar.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '5.0.0b1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="shortcut icon" href="_static/favicon.ico"/>
    <link rel="top" title="perfSONAR Toolkit 5.0.0b1 documentation" href="index.html" />
    <link rel="next" title="MaDDash Administrator Web Interface" href="maddash_admin_ui.html" />
    <link rel="prev" title="Running and Managing the MaDDash Server" href="maddash_running.html" /> 
  </head>
  <body>
    <header>
        <div class="headerContents">
          <a href="index.html" border="0"><img src="_static/perfSONAR-header.gif"></a>
          <div class="acctSearchContainer">
              <section id="searchBox" class="searchBox">
                  <!--Use of this code assumes agreement with the Google Custom Search Terms of Service. -->
                  <!--The terms of service are available at http://www.google.com/cse/docs/tos.html -->
                  <form action="search.html" id="cse-search-box" method="get">
                    <input type="text" name="q" size="25" class="searchInput" placeholder="Search"/>
                    <input type="hidden" name="check_keywords" value="yes" />
                    <input type="hidden" name="area" value="default" />
                  </form>
              </section>
         </div>
        </div>
    </header>
    <div style="display:block;clear:both;">
    
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="maddash_admin_ui.html" title="MaDDash Administrator Web Interface"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="maddash_running.html" title="Running and Managing the MaDDash Server"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">perfSONAR Toolkit 5.0.0b1 documentation</a> &raquo;</li> 
      </ul>
    </div>
    </div>
    
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="customizing-the-maddash-web-interface">
<h1>Customizing the MaDDash Web Interface<a class="headerlink" href="#customizing-the-maddash-web-interface" title="Permalink to this headline">¶</a></h1>
<div class="section" id="web-server">
<h2>Web Server<a class="headerlink" href="#web-server" title="Permalink to this headline">¶</a></h2>
<p>The maddash-webui is a web application that runs under Apache. The web scripts and resources are installed in <em>/usr/lib/maddash/maddash-webui</em>. In addition, an Apache configuration file is installed at <em>/etc/httpd/conf.d/apache-maddash.conf</em> that sets-up the <em>/maddash-webui</em> URL. It also creates a reverse proxy for request to the URL <em>/maddash</em> to localhost port 8881. If you modify the server port for maddash, you will also need to update this configuration.</p>
</div>
<div class="section" id="visual-customizations">
<span id="config-webui-vizcustom"></span><h2>Visual Customizations<a class="headerlink" href="#visual-customizations" title="Permalink to this headline">¶</a></h2>
<p>The interface provides some customization options in the JSON config file <em>/etc/maddash/maddash-webui/config.json</em>. It provides the following options:</p>
<table border="1" class="docutils">
<colgroup>
<col width="7%" />
<col width="7%" />
<col width="4%" />
<col width="82%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Type</th>
<th class="head">Required</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>title</td>
<td>String</td>
<td>Yes</td>
<td>The title displayed at the very top of the web page</td>
</tr>
<tr class="row-odd"><td>defaultDashboard</td>
<td>String</td>
<td>Yes</td>
<td>The name of the default dashboard to display when someone visits /maddash-webui. It MUST match the name of a dashboard defined in your maddash-server.yaml file.</td>
</tr>
<tr class="row-even"><td>colors</td>
<td>JSON object</td>
<td>No</td>
<td>The default color profile for grids. See <a class="reference internal" href="#config-webui-vizcustom-colors"><em>Customizing Dashboard Colors</em></a></td>
</tr>
<tr class="row-odd"><td>alternateColors</td>
<td>JSON object array</td>
<td>No</td>
<td>A list of color profile objects describing alternate color options that are seletcable under the <em>Settings &gt; Colors</em> menu. See <a class="reference internal" href="#config-webui-vizcustom-colors"><em>Customizing Dashboard Colors</em></a></td>
</tr>
<tr class="row-even"><td>enableAdminUI</td>
<td>Boolean</td>
<td>No</td>
<td>A &#8216;true&#8217; or &#8216;false&#8217; value indicating you want <em>Server Settings...</em> to appear in the <em>Settings</em> menu of the web interface. Note this does NOT disable direct access to the administrator UI, just removes it from the menu.</td>
</tr>
<tr class="row-odd"><td>addNodeURL</td>
<td>String</td>
<td>No</td>
<td>A URL where users may find more information about adding a node to your dashboard(s). If populated an extra item will be added to the menu bar displayed for users.</td>
</tr>
<tr class="row-even"><td>externalLinksMenu</td>
<td>JSON object</td>
<td>No</td>
<td>See <a class="reference internal" href="#config-webui-vizcustom-extlinks"><em>Adding a Custom List of External Links</em></a></td>
</tr>
<tr class="row-odd"><td>privacyPolicyLink</td>
<td>String</td>
<td>No</td>
<td>Sets the URL used in the &#8220;Privacy Policy&#8221; link at the bottom of each page. Default is the perfSONAR project privacy policy.</td>
</tr>
<tr class="row-even"><td>grids</td>
<td>JSON object</td>
<td>No</td>
<td>Custom layout features for individual grids. See <a class="reference internal" href="#grids-props"><em>grids properties</em></a> section.</td>
</tr>
</tbody>
</table>
<div class="section" id="customizing-dashboard-colors">
<span id="config-webui-vizcustom-colors"></span><h3>Customizing Dashboard Colors<a class="headerlink" href="#customizing-dashboard-colors" title="Permalink to this headline">¶</a></h3>
<div class="section" id="customizing-the-default-color-profile">
<h4>Customizing the Default Color Profile<a class="headerlink" href="#customizing-the-default-color-profile" title="Permalink to this headline">¶</a></h4>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Color customization was added in version 1.2 of MaDDash and not supported in previous versions.</p>
</div>
<p>You may customize the colors used by the dashboards for each check state using the <em>colors</em> option. This option takes the form of an object consisting of key/value pairs. The key is the state value and the value is the color to be displayed for that state value.  See <a class="reference internal" href="maddash_api_grids.html#status-codes"><em>Status-Codes</em></a> for a complete listing of status codes and their meanings.  The value is the color as a CSS color name (e.g. black) or hexadecimal (e.g. #000000). For example, the default value looks like the following:</p>
<div class="highlight-python"><pre>"colors": {
    "0": "#009E73",
    "1": "#F0E442",
    "2": "#CC79A7",
    "3": "#E69F00",
    "4": "#56B4E9",
    "5": "#000000"
}</pre>
</div>
<p>If you wanted to change everything in the UNKNOWN state to be shade of gray instead of orange you could provide something like the following:</p>
<div class="highlight-python"><pre>"colors": {
    "0": "#009E73",
    "1": "#F0E442",
    "2": "#CC79A7",
    "3": "#A2A2A2",
    "4": "#56B4E9",
    "5": "#000000"
}</pre>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">It should be noted you must define states 0-5 every time you provide the colors. It is not enough to just define the subset you want to change. In addition, some checks may have custom states greater than 5. You may optionally include any states greater than five  in the configuration, but 0-5 are always required. See documentation for a specific check if you are unsure if it has any custom states.</p>
</div>
</div>
<div class="section" id="customizing-user-selectable-color-profiles">
<h4>Customizing User Selectable Color Profiles<a class="headerlink" href="#customizing-user-selectable-color-profiles" title="Permalink to this headline">¶</a></h4>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">User selectable color profiles were added in version 2.0 of MaDDash and not supported in previous versions.</p>
</div>
<p>You can also add a list of color options from which users can select via the <em>Settings &gt; Colors</em> menu. Selecting an item from this menu will set a cookie that saves the choice for future visits as well. An example configuration is show below:</p>
<div class="highlight-python"><pre>"alternateColors": [
    {
        "name": "Classic",
        "colors": {
            "0": "green",
            "1": "yellow",
            "2": "red",
            "3": "orange",
            "4": "gray",
            "5": "black"
        }
    },
    {
        "name": "Gray Unknown",
        "colors": {
            "0": "#009E73",
            "1": "#F0E442",
            "2": "#CC79A7",
            "3": "#A2A2A2",
            "4": "#56B4E9",
            "5": "#000000"
        }
    },
    {
        "name": "Forest Rain",
        "colors": {
            "0": "#33a02c",
            "1": "#b2df8a",
            "2": "#1f78b4",
            "3": "#a6cee3",
            "4": "#eeeeee",
            "5": "black"
        }
    },
    {
        "name": "Heatwave",
        "colors": {
            "0": "#fecc5c",
            "1": "#fd8d3c",
            "2": "#e31a1c",
            "3": "#ffffb2",
            "4": "#eeeeee",
            "5": "black"
        }
    },
    {
        "name": "Old Movie",
        "colors": {
            "0": "#cccccc",
            "1": "#969696",
            "2": "#525252",
            "3": "#f7f7f7",
            "4": "#eeeeee",
            "5": "black"
        }
    },
    {
        "name": "Pastel",
        "colors": {
            "0": "#8dd3c7",
            "1": "#ffffb3",
            "2": "#fb8072",
            "3": "#bebada",
            "4": "#eeeeee",
            "5": "black"
        }
    },
    {
        "name": "Sea Breeze",
        "colors": {
            "0": "#bae4bc",
            "1": "#7bccc4",
            "2": "#2b8cbe",
            "3": "#f0f9e8",
            "4": "#eeeeee",
            "5": "black"
        }
    }
 ]</pre>
</div>
<p>In the example each object has a <em>name</em> and a <em>colors</em> array. The name is how the profile will be displayed in the <em>Colors</em> menu. The colors is exactly the same form as when you define the color set, essentially an object mapping states to CSS color names or hexadecimal colors values.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If no alternateColors are listed then the <em>Colors</em> menu will not be displayed under the <em>Settings</em> menu</p>
</div>
</div>
</div>
<div class="section" id="adding-a-custom-list-of-external-links">
<span id="config-webui-vizcustom-extlinks"></span><h3>Adding a Custom List of External Links<a class="headerlink" href="#adding-a-custom-list-of-external-links" title="Permalink to this headline">¶</a></h3>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The External Links menu was added in version 1.2 of MaDDash and not supported in previous versions.</p>
</div>
<p>You may define a list of links that will appear in the top navigation menu of all MaDDash pages. You may add links to anything with a URL including items such as your organization&#8217;s homepage, links to other MaDDash instances or other monitoring tools. The block contains a list of objects with a label and a URL. The label is the text displayed in the drop-down menu and the URL is the hyperlink to be opened when that text is clicked. An example of the configuration block is below:</p>
<div class="highlight-python"><pre>"externalLinksMenu": {
    "menuLinks": [
        {
           "label": "ESnet",
            "url": "http://www.es.net"
        },
        {
           "label": "perfSONAR",
           "url": "http://www.perfsonar.net"
        }
    ]
}</pre>
</div>
<p>By default the dopdown appear as <em>External Links&#8221; in the top menu. If you would like to change this you can customize the label with the **menuLabel*</em> property:</p>
<div class="highlight-python"><pre>"externalLinksMenu": {
    "menuLabel": "Other Resources",
    "menuLinks": [
        {
           "label": "ESnet",
            "url": "http://www.es.net"
        },
        {
           "label": "perfSONAR",
           "url": "http://www.perfsonar.net"
        }
    ]
}</pre>
</div>
<p>A table with a full listing of the properties detailed above can be seen below:</p>
<table border="1" class="docutils">
<colgroup>
<col width="15%" />
<col width="7%" />
<col width="8%" />
<col width="71%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Type</th>
<th class="head">Required</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>menuLabel</td>
<td>String</td>
<td>No</td>
<td>Optional label that appears in menu bar for external links menu. Default is &#8220;External Links&#8221;</td>
</tr>
<tr class="row-odd"><td>menuLinks</td>
<td>Array</td>
<td>Yes</td>
<td>Array of objects describing each link you want displayed in the menu.</td>
</tr>
<tr class="row-even"><td>menuLinks[n].label</td>
<td>String</td>
<td>Yes</td>
<td>The text to appear in the menu for an individual link</td>
</tr>
<tr class="row-odd"><td>menuLinks[n].url</td>
<td>String</td>
<td>Yes</td>
<td>The URL to open when a link is clicked</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="grids-properties">
<span id="grids-props"></span><h3>grids properties<a class="headerlink" href="#grids-properties" title="Permalink to this headline">¶</a></h3>
<p>grids are specified as follows (where <em>gridName</em> is the name of the grid you want to adjust):</p>
<div class="highlight-python"><pre>"grids":{
        "gridName":{
            ...properties...
        },
    }</pre>
</div>
<p>The following properties are available:</p>
<table border="1" class="docutils">
<colgroup>
<col width="12%" />
<col width="7%" />
<col width="8%" />
<col width="73%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Type</th>
<th class="head">Required</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>cellSize</td>
<td>Integer</td>
<td>No</td>
<td>The height and width in pixels of one cell in the grid</td>
</tr>
<tr class="row-odd"><td>cellPadding</td>
<td>Integer</td>
<td>No</td>
<td>The space between cells of the grid</td>
</tr>
<tr class="row-even"><td>textBlockSize</td>
<td>Integer</td>
<td>No</td>
<td><strong>NO LONGER SUPPORTED in 2.0</strong> This option as been obsoleted by auto-sizing and is ignored</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <nav id="channelNav" class="channelNav">
                
                <ul>
<li><a class="reference internal" href="#">Customizing the MaDDash Web Interface</a><ul>
<li><a class="reference internal" href="#web-server">Web Server</a></li>
<li><a class="reference internal" href="#visual-customizations">Visual Customizations</a><ul>
<li><a class="reference internal" href="#customizing-dashboard-colors">Customizing Dashboard Colors</a><ul>
<li><a class="reference internal" href="#customizing-the-default-color-profile">Customizing the Default Color Profile</a></li>
<li><a class="reference internal" href="#customizing-user-selectable-color-profiles">Customizing User Selectable Color Profiles</a></li>
</ul>
</li>
<li><a class="reference internal" href="#adding-a-custom-list-of-external-links">Adding a Custom List of External Links</a></li>
<li><a class="reference internal" href="#grids-properties">grids properties</a></li>
</ul>
</li>
</ul>
</li>
</ul>

                <ul>
                  <li>
                  <a href="maddash_running.html">Previous topic</a>
                  <ul><li><a href="maddash_running.html" title="previous chapter">Running and Managing the MaDDash Server</a></li></ul>
                  </li>
                </ul>
                  <ul>
                      <li>
                      <a href="maddash_admin_ui.html">Next topic</a>
                      <ul><li><a href="maddash_admin_ui.html" title="next chapter">MaDDash Administrator Web Interface</a></li></ul>
                      </li>
                  </ul>
                
                
            </nav>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="maddash_admin_ui.html" title="MaDDash Administrator Web Interface"
             >next</a> |</li>
        <li class="right" >
          <a href="maddash_running.html" title="Running and Managing the MaDDash Server"
             >previous</a> |</li>
        <li><a href="index.html">perfSONAR Toolkit 5.0.0b1 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <footer id="fat">
        <div class="footerContents">
            <nav id="fatFooterNav" class="fatFooterNav">
                <ul id="menu-partners" class="menu depth-0">
                    <li id="footer-partner-text" class="partner-menu">
                        perfSONAR 
                        <br>
                        partners 
                        <br>
                        include: 
                    </li>
    
                <li id="footer-partner-esnet" class="partner-menu">
                    <a href="http://www.es.net/" title="Visit DOE's Energy Sciences Network"><img src="_static/ESnet-ps.png" alt="" style="border:none;"></a> </li>
                
                <li id="footer-partner-geant" class="partner-menu">
                    <a href="http://www.geant.org/" title="Visit GEANT"><img src="_static/geant-ps.png" alt="" style="border:none;"/></a> </li>
        
                <li id="footer-partner-iu" class="partner-menu">
                    <a href="http://www.iu.edu/" title="Visit Indiana University"><img src="_static/IU-ps.png" alt="" style="border:none;"></a> </li>

                <li id="footer-partner-i2" class="partner-menu">
                    <a href="http://www.internet2.edu/" title="Visit Internet2"><img src="_static/I2-ps.png" alt="" style="border:none;"></a> </li>
					
				<li id="footer-partner-rnp" class="partner-menu">
                    <a href="https://www.rnp.br/en" title="Visit RNP"><img src="_static/rnp.png" alt="" style="border:none;"></a> </li>
                
                <li id="footer-partner-um" class="partner-menu">
                    <a href="http://www.umich.edu/" title="Visit University of Michigan"><img src="_static/UM-ps.png" alt="" style="border:none;"></a> </li>

                </ul>

            </nav>
            <nav id="minFooterNav" class="minFooterNav">
                <span class="copyright">PERFormance Service Oriented Network monitoring ARchitecture </span>
            </nav>
          
        </div> <!-- /footerContents -->
    </footer>
    
    <div class="footer">
        &copy; Copyright 2023, perfSONAR Project.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>
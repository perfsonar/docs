
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Bundle Installation on RedHat Enterprise Linux Variants &#8212; perfSONAR Toolkit 5.1.0 Beta 1 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/classic.css" />
    <link rel="stylesheet" href="_static/perfsonar.css" type="text/css" />
    
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/sphinx_highlight.js"></script>
    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Bundle Installation on Debian" href="install_debian.html" />
    <link rel="prev" title="Configuring the Toolkit for the First Time" href="install_config_first_time.html" />
	<!-- Google tag (gtag.js) -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=G-52RNZ729B1"></script>
	<script>
		window.dataLayer = window.dataLayer || [];
		function gtag(){dataLayer.push(arguments);}
		gtag('js', new Date());
		gtag('config', 'G-52RNZ729B1');
	</script>
	 

  </head><body>
    <header>
        <div class="headerContents">
          <a href="index.html" border="0"><img src="_static/perfsonar-logo-black-full-100.png"></a>
          <div class="acctSearchContainer">
              <section id="searchBox" class="searchBox">
                  <!--Use of this code assumes agreement with the Google Custom Search Terms of Service. -->
                  <!--The terms of service are available at http://www.google.com/cse/docs/tos.html -->
                  <form action="search.html" id="cse-search-box" method="get">
                    <input type="text" name="q" size="25" class="searchInput" placeholder="Search"/>
                    <input type="hidden" name="check_keywords" value="yes" />
                    <input type="hidden" name="area" value="default" />
                  </form>
              </section>
         </div>
        </div>
    </header>
    <div style="display:block;clear:both;">
    
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="install_debian.html" title="Bundle Installation on Debian"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="install_config_first_time.html" title="Configuring the Toolkit for the First Time"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">perfSONAR Toolkit 5.1.0 Beta 1 documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Bundle Installation on RedHat Enterprise Linux Variants</a></li> 
      </ul>
    </div>
    </div>
    
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="bundle-installation-on-redhat-enterprise-linux-variants">
<h1>Bundle Installation on RedHat Enterprise Linux Variants<a class="headerlink" href="#bundle-installation-on-redhat-enterprise-linux-variants" title="Permalink to this heading">¶</a></h1>
<p>perfSONAR combines various sets of measurement tools and services bundled in different useful ways. RPMs are available that install the bundles described in <a class="reference internal" href="install_options.html"><span class="doc">perfSONAR Installation Options</span></a>. The steps in the remaining sections of this document detail the steps required for installing these bundles.</p>
<section id="system-requirements">
<h2>System Requirements<a class="headerlink" href="#system-requirements" title="Permalink to this heading">¶</a></h2>
<ul class="simple">
<li><p><strong>Operating System:</strong></p>
<ul>
<li><p><strong>Alma 9 or Rocky 9</strong> x86_64 installations are supported. Other RedHat-based operating systems based on EL9 may work, but are not officially supported at this time.</p></li>
<li><p>See <a class="reference internal" href="install_hardware.html"><span class="doc">Hardware Requirements</span></a> for hardware requirements and more.</p></li>
</ul>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Installing a graphical/desktop environment with perfSONAR is not supported.  These environments generally come with a Network Manager that conflicts with the way that perfSONAR is tuning the network interface parameters.  We recommend doing only server grade OS installs.</p>
</div>
</section>
<section id="installation">
<span id="install-el-installation"></span><h2>Installation<a class="headerlink" href="#installation" title="Permalink to this heading">¶</a></h2>
<section id="step-1-configure-dnf">
<span id="install-el-step1"></span><h3>Step 1: Configure DNF<a class="headerlink" href="#step-1-configure-dnf" title="Permalink to this heading">¶</a></h3>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If your system is using dnf priorities make sure that repositories required for perfSONAR are higher priority than anything else to avoid conflicts with older versions. Please note that dnf maintainers do not recommend using priorities.</p>
</div>
<p>The process configures dnf to point at the necessary repositories to get packages needed for perfSONAR. <strong>You will need to follow the steps below as privileged user</strong>:</p>
<ol class="arabic">
<li><p>Install the EPEL RPM:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">dnf</span> <span class="n">install</span> <span class="n">epel</span><span class="o">-</span><span class="n">release</span>
</pre></div>
</div>
</li>
<li><p>Enable the CBR repository:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">dnf</span> <span class="n">config</span><span class="o">-</span><span class="n">manager</span> <span class="o">--</span><span class="nb">set</span><span class="o">-</span><span class="n">enabled</span> <span class="n">crb</span>
</pre></div>
</div>
</li>
<li><p>Install the perfsonar-repo RPM for EL9:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">dnf</span> <span class="n">install</span> <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">software</span><span class="o">.</span><span class="n">internet2</span><span class="o">.</span><span class="n">edu</span><span class="o">/</span><span class="n">rpms</span><span class="o">/</span><span class="n">el9</span><span class="o">/</span><span class="n">x86_64</span><span class="o">/</span><span class="n">latest</span><span class="o">/</span><span class="n">packages</span><span class="o">/</span><span class="n">perfsonar</span><span class="o">-</span><span class="n">repo</span><span class="o">-</span><span class="mf">0.11</span><span class="o">-</span><span class="mf">1.</span><span class="n">noarch</span><span class="o">.</span><span class="n">rpm</span>
</pre></div>
</div>
</li>
<li><p>Refresh dnf’s cache so it detects the new RPMS:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">dnf</span> <span class="n">clean</span> <span class="nb">all</span>
</pre></div>
</div>
</li>
</ol>
</section>
<section id="step-2-install-a-bundle">
<span id="install-el-step2"></span><h3>Step 2: Install a Bundle<a class="headerlink" href="#step-2-install-a-bundle" title="Permalink to this heading">¶</a></h3>
<p><strong>CHOOSE ONE</strong> of the following bundles and see <a class="reference internal" href="install_options.html"><span class="doc">perfSONAR Installation Options</span></a> page for more information about what these bundles are.</p>
<ul>
<li><p><strong>perfSONAR Tools</strong>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">dnf</span> <span class="n">install</span> <span class="n">perfsonar</span><span class="o">-</span><span class="n">tools</span>
</pre></div>
</div>
</li>
<li><p><strong>perfSONAR Test Point</strong>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">dnf</span> <span class="n">install</span> <span class="n">perfsonar</span><span class="o">-</span><span class="n">testpoint</span>
</pre></div>
</div>
</li>
<li><p><strong>perfSONAR Core</strong>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">dnf</span> <span class="n">install</span> <span class="n">perfsonar</span><span class="o">-</span><span class="n">core</span>
</pre></div>
</div>
</li>
<li><p><strong>perfSONAR Archive</strong>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">dnf</span> <span class="n">install</span> <span class="n">perfsonar</span><span class="o">-</span><span class="n">archive</span>
</pre></div>
</div>
</li>
<li><p><strong>perfSONAR Toolkit</strong>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">dnf</span> <span class="n">install</span> <span class="n">perfsonar</span><span class="o">-</span><span class="n">toolkit</span>
</pre></div>
</div>
</li>
</ul>
<section id="optional-packages">
<h4>Optional Packages<a class="headerlink" href="#optional-packages" title="Permalink to this heading">¶</a></h4>
<p>In addition to any of the bundles above you may also <strong>optionnally</strong> choose to install one or more of our add-on packages (these are automatically added on the perfsonar-toolkit bundle):</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">dnf</span> <span class="pre">install</span> <span class="pre">perfsonar-toolkit-security</span></code> - Adds default firewall rules and installs fail2ban</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dnf</span> <span class="pre">install</span> <span class="pre">perfsonar-toolkit-servicewatcher</span></code> - Adds a cron job that checks if services are still running.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dnf</span> <span class="pre">install</span> <span class="pre">perfsonar-toolkit-sysctl</span></code> - Adds default sysctl tuning settings</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dnf</span> <span class="pre">install</span> <span class="pre">perfsonar-toolkit-systemenv-testpoint</span></code> - Configures auto-update and set some default logging locations</p></li>
</ul>
</div></blockquote>
</section>
</section>
<section id="step-3-verify-tuning-parameters">
<span id="install-el-step3"></span><h3>Step 3: Verify Tuning Parameters<a class="headerlink" href="#step-3-verify-tuning-parameters" title="Permalink to this heading">¶</a></h3>
<p><em>Step 3 can be ignored for perfsonar-toolkit package installation as its instructions are included and run automatically</em></p>
<ul>
<li><p><strong>System Tuning</strong></p>
<p>It is important to make sure that your host is properly tuned for maximum TCP performance on the WAN. You should verify that htcp, not reno, is the default TCP congestion control algorithm, and that the maximum TCP buffers are big enough for your paths of interest. You can also re-run this script any time you need e.g. when host interface speed changes.</p>
<ul>
<li><p><strong>Configure perfSONAR sysctl settings</strong></p>
<p>If the optional package was installed, then run:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">perfsonar</span><span class="o">/</span><span class="n">scripts</span><span class="o">/</span><span class="n">configure_sysctl</span>
</pre></div>
</div>
</li>
<li><p><strong>Advanced Manual Tuning</strong></p>
<p>For more information please refer to <cite>http://fasterdata.es.net/host-tuning/linux/</cite></p>
</li>
</ul>
</li>
</ul>
</section>
<section id="step-4-firewall-and-security-considerations">
<span id="install-el-step4"></span><h3>Step 4: Firewall and Security Considerations<a class="headerlink" href="#step-4-firewall-and-security-considerations" title="Permalink to this heading">¶</a></h3>
<p><strong>Package Install</strong></p>
<p>If you have installed the perfsonar-toolkit-security package, then you can configure the firewalld / IPTable entries by running:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">perfsonar</span><span class="o">/</span><span class="n">scripts</span><span class="o">/</span><span class="n">configure_firewall</span> <span class="n">install</span>
</pre></div>
</div>
<p>The package also installs fail2ban.</p>
<p>Or, if you would like to configure the rules manually, then please review the <a class="reference external" href="http://www.perfsonar.net/deploy/security-considerations/">document here</a> on the ports that need to be open.</p>
<p>Additionally, pscheduler allows you to limit the parameters of tests such as duration and bandwidth based on the requesters IP address. It does this through the <code class="docutils literal notranslate"><span class="pre">/etc/pscheduler/limits.conf</span></code>.
ESnet provides a file containing all R&amp;E subnets, which is updated nightly. Instructions on how to download this file and configure pScheduler to use it are described on the page <a class="reference internal" href="manage_limits.html"><span class="doc">Limiting Tests to R&amp;E Networks Only</span></a>.</p>
<p>Note that the perfsonar-toolkit-security package is automatically included in the perfsonar-toolkit bundle.</p>
</section>
<section id="step-5-auto-updates">
<span id="install-el-step5"></span><h3>Step 5: Auto updates<a class="headerlink" href="#step-5-auto-updates" title="Permalink to this heading">¶</a></h3>
<p>You can also enable dnf ‘auto updates’ to ensure you always have the most current and hopefully most secure packages. To do this follow the steps in <a class="reference internal" href="manage_update.html#manage-update-auto-cli"><span class="std std-ref">Managing Automatic Updates from the Command-Line</span></a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Automatic updates are enabled by default in the perfSONAR Toolkit.</p>
</div>
</section>
<section id="step-6-register-your-services">
<span id="install-el-step6"></span><h3>Step 6: Register your services<a class="headerlink" href="#step-6-register-your-services" title="Permalink to this heading">¶</a></h3>
<p>Note: this step can be done through the web interface if the perfsonar-toolkit bundle was installed.
See <a class="reference internal" href="manage_admin_info.html"><span class="doc">Updating Administrative Information</span></a>.</p>
<p>No actual configuration is required but filling fields such as administrator_email, site_name, city, country, latitude, longitude, etc. are <strong>highly recommended</strong>. You can add these by removing the leading <cite>#</cite> of any property and filling it out with a proper value for your host. Changes will be picked-up automatically without need for any restarts.</p>
</section>
<section id="step-7-starting-your-services">
<span id="install-el-step7"></span><h3>Step 7: Starting your services<a class="headerlink" href="#step-7-starting-your-services" title="Permalink to this heading">¶</a></h3>
<p>All services should be started after install. Additionally, you can start all the services by rebooting the host since all are configured to run by default. In order to check services status issue the following commands:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">systemctl</span> <span class="n">status</span> <span class="n">pscheduler</span><span class="o">-</span><span class="n">scheduler</span>
<span class="n">systemctl</span> <span class="n">status</span> <span class="n">pscheduler</span><span class="o">-</span><span class="n">runner</span>
<span class="n">systemctl</span> <span class="n">status</span> <span class="n">pscheduler</span><span class="o">-</span><span class="n">archiver</span>
<span class="n">systemctl</span> <span class="n">status</span> <span class="n">pscheduler</span><span class="o">-</span><span class="n">ticker</span>
<span class="n">systemctl</span> <span class="n">status</span> <span class="n">psconfig</span><span class="o">-</span><span class="n">pscheduler</span><span class="o">-</span><span class="n">agent</span>
<span class="n">systemctl</span> <span class="n">status</span> <span class="n">owamp</span><span class="o">-</span><span class="n">server</span>
<span class="n">systemctl</span> <span class="n">status</span> <span class="n">perfsonar</span><span class="o">-</span><span class="n">lsregistrationdaemon</span>
</pre></div>
</div>
<p>If they are not running you may start them with appropriate init commands as a root user. For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">systemctl</span> <span class="n">start</span> <span class="n">pscheduler</span><span class="o">-</span><span class="n">scheduler</span>
<span class="n">systemctl</span> <span class="n">start</span> <span class="n">pscheduler</span><span class="o">-</span><span class="n">runner</span>
<span class="n">systemctl</span> <span class="n">start</span> <span class="n">pscheduler</span><span class="o">-</span><span class="n">archiver</span>
<span class="n">systemctl</span> <span class="n">start</span> <span class="n">pscheduler</span><span class="o">-</span><span class="n">ticker</span>
<span class="n">systemctl</span> <span class="n">start</span> <span class="n">psconfig</span><span class="o">-</span><span class="n">pscheduler</span><span class="o">-</span><span class="n">agent</span>
<span class="n">systemctl</span> <span class="n">start</span> <span class="n">perfsonar</span><span class="o">-</span><span class="n">lsregistrationdaemon</span>
<span class="n">systemctl</span> <span class="n">start</span> <span class="n">owamp</span><span class="o">-</span><span class="n">server</span>
</pre></div>
</div>
<p>In order to find more information about services running in perfSONAR bundles visit <a class="reference internal" href="manage_daemons.html"><span class="doc">Managing Daemons</span></a>.</p>
</section>
<section id="configuring-an-archive">
<h3>Configuring an Archive<a class="headerlink" href="#configuring-an-archive" title="Permalink to this heading">¶</a></h3>
<p>If you installed the perfsonar-archive bundle see the following document <a class="reference internal" href="multi_ma_install.html"><span class="doc">Deploying a Central Measurement Archive</span></a></p>
</section>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <nav id="channelNav" class="channelNav">
                
                <ul>
<li><a class="reference internal" href="#">Bundle Installation on RedHat Enterprise Linux Variants</a><ul>
<li><a class="reference internal" href="#system-requirements">System Requirements</a></li>
<li><a class="reference internal" href="#installation">Installation</a><ul>
<li><a class="reference internal" href="#step-1-configure-dnf">Step 1: Configure DNF</a></li>
<li><a class="reference internal" href="#step-2-install-a-bundle">Step 2: Install a Bundle</a><ul>
<li><a class="reference internal" href="#optional-packages">Optional Packages</a></li>
</ul>
</li>
<li><a class="reference internal" href="#step-3-verify-tuning-parameters">Step 3: Verify Tuning Parameters</a></li>
<li><a class="reference internal" href="#step-4-firewall-and-security-considerations">Step 4: Firewall and Security Considerations</a></li>
<li><a class="reference internal" href="#step-5-auto-updates">Step 5: Auto updates</a></li>
<li><a class="reference internal" href="#step-6-register-your-services">Step 6: Register your services</a></li>
<li><a class="reference internal" href="#step-7-starting-your-services">Step 7: Starting your services</a></li>
<li><a class="reference internal" href="#configuring-an-archive">Configuring an Archive</a></li>
</ul>
</li>
</ul>
</li>
</ul>

                <ul>
                  <li>
                  <a href="install_config_first_time.html">Previous topic</a>
                  <ul><li><a href="install_config_first_time.html" title="previous chapter">Configuring the Toolkit for the First Time</a></li></ul>
                  </li>
                </ul>
                  <ul>
                      <li>
                      <a href="install_debian.html">Next topic</a>
                      <ul><li><a href="install_debian.html" title="next chapter">Bundle Installation on Debian</a></li></ul>
                      </li>
                  </ul>
                
                
            </nav>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="install_debian.html" title="Bundle Installation on Debian"
             >next</a> |</li>
        <li class="right" >
          <a href="install_config_first_time.html" title="Configuring the Toolkit for the First Time"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">perfSONAR Toolkit 5.1.0 Beta 1 documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Bundle Installation on RedHat Enterprise Linux Variants</a></li> 
      </ul>
    </div>
    <footer id="fat">
        <div class="footerContents">
            <nav id="fatFooterNav" class="fatFooterNav">
                <ul id="menu-partners" class="menu depth-0">
                    <li id="footer-partner-text" class="partner-menu">
                        perfSONAR 
                        <br>
                        partners 
                        <br>
                        include: 
                    </li>
    
                <li id="footer-partner-esnet" class="partner-menu">
                    <a href="http://www.es.net/" title="Visit DOE's Energy Sciences Network"><img src="_static/ESnet-ps.png" alt="" style="border:none;"></a> </li>
                
                <li id="footer-partner-geant" class="partner-menu">
                    <a href="http://www.geant.org/" title="Visit GEANT"><img src="_static/geant-ps.png" alt="" style="border:none;"/></a> </li>
        
                <li id="footer-partner-iu" class="partner-menu">
                    <a href="http://www.iu.edu/" title="Visit Indiana University"><img src="_static/IU-ps.png" alt="" style="border:none;"></a> </li>

                <li id="footer-partner-i2" class="partner-menu">
                    <a href="http://www.internet2.edu/" title="Visit Internet2"><img src="_static/I2-ps.png" alt="" style="border:none;"></a> </li>
					
				<li id="footer-partner-rnp" class="partner-menu">
                    <a href="https://www.rnp.br/en" title="Visit RNP"><img src="_static/rnp.png" alt="" style="border:none;"></a> </li>
                
                <li id="footer-partner-um" class="partner-menu">
                    <a href="http://www.umich.edu/" title="Visit University of Michigan"><img src="_static/UM-ps.png" alt="" style="border:none;"></a> </li>

                </ul>

            </nav>
            <nav id="minFooterNav" class="minFooterNav">
                <span class="copyright">PERFormance Service Oriented Network monitoring ARchitecture </span>
            </nav>
          
        </div> <!-- /footerContents -->
    </footer>
    
    <div class="footer" role="contentinfo">
        &#169; Copyright 2024, perfSONAR Project.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 6.1.3.
    </div>
  </body>
</html>
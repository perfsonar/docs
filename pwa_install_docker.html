<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Docker Installation &mdash; perfSONAR Toolkit 4.2.2 documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/perfsonar.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '4.2.2',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="shortcut icon" href="_static/favicon.ico"/>
    <link rel="top" title="perfSONAR Toolkit 4.2.2 documentation" href="index.html" />
    <link rel="up" title="pSConfig Web Admin" href="pwa.html" />
    <link rel="next" title="Configuration" href="pwa_configure.html" />
    <link rel="prev" title="PWA RPM Installation" href="pwa_install_rpm.html" /> 
  </head>
  <body>
    <header>
        <div class="headerContents">
          <a href="index.html" border="0"><img src="_static/perfSONAR-header.gif"></a>
          <div class="acctSearchContainer">
              <section id="searchBox" class="searchBox">
                  <!--Use of this code assumes agreement with the Google Custom Search Terms of Service. -->
                  <!--The terms of service are available at http://www.google.com/cse/docs/tos.html -->
                  <form action="search.html" id="cse-search-box" method="get">
                    <input type="text" name="q" size="25" class="searchInput" placeholder="Search"/>
                    <input type="hidden" name="check_keywords" value="yes" />
                    <input type="hidden" name="area" value="default" />
                  </form>
              </section>
         </div>
        </div>
    </header>
    <div style="display:block;clear:both;">
    
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="pwa_configure.html" title="Configuration"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="pwa_install_rpm.html" title="PWA RPM Installation"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">perfSONAR Toolkit 4.2.2 documentation</a> &raquo;</li>
          <li><a href="pwa.html" accesskey="U">pSConfig Web Admin</a> &raquo;</li> 
      </ul>
    </div>
    </div>
    
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="docker-installation">
<h1>Docker Installation<a class="headerlink" href="#docker-installation" title="Permalink to this headline">¶</a></h1>
<p><strong>If you are installing with RPMs, SKIP THIS PAGE</strong></p>
<div class="section" id="vm-host">
<h2>VM Host<a class="headerlink" href="#vm-host" title="Permalink to this headline">¶</a></h2>
<p>To install PWA, you will need a VM with any OS that supports Docker, such as CentOS7</p>
<p>Minimum resource requirements are..</p>
<ul class="simple">
<li>4-6 CPUs</li>
<li>4G memory</li>
<li>16G disk</li>
</ul>
</div>
<div class="section" id="docker-engine">
<h2>Docker Engine<a class="headerlink" href="#docker-engine" title="Permalink to this headline">¶</a></h2>
<p>Read the official <a class="reference external" href="https://docs.docker.com/engine/installation/">docker installation doc</a> for more information. For CentOS 7, the Docker version from the CentOS Extras repo will work. For CentOS 6, the CentOS version might work, or you might need to try the version from the Docker repo.</p>
<p>For CentOS7 as root:</p>
<div class="highlight-bash"><div class="highlight"><pre>yum install -y docker
</pre></div>
</div>
<p>Before you start the docker engine, you might want to add any VM specific configuration. For example, your VM might be using /usr/local as a primary partition for your VM. If so, you should have something like following..</p>
<div class="highlight-bash"><div class="highlight"><pre>mkdir /etc/docker
</pre></div>
</div>
<p><tt class="docutils literal"><span class="pre">/etc/docker/daemon.json</span></tt></p>
<div class="highlight-json"><div class="highlight"><pre>{
        &quot;graph&quot;: &quot;/usr/local/docker&quot;
}
</pre></div>
</div>
<p>Enable &amp; start the docker engine.</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>systemctl <span class="nb">enable </span>docker
<span class="nv">$ </span>systemctl start docker
</pre></div>
</div>
<p>You should install logrotate for docker container log</p>
<p>/etc/logrotate.d/docker-container</p>
<div class="highlight-bash"><div class="highlight"><pre>/var/lib/docker/containers/*/*.log <span class="o">{</span>
  rotate 7
  daily
  compress
  <span class="nv">size</span><span class="o">=</span>1M
  missingok
  delaycompress
  copytruncate
<span class="o">}</span>
</pre></div>
</div>
</div>
<div class="section" id="sample-configuration">
<h2>Sample Configuration<a class="headerlink" href="#sample-configuration" title="Permalink to this headline">¶</a></h2>
<p>This guide assumes you have already pulled down the sample PWA config and extracted it like this (you should have done this during the Install step; if not, do it now:</p>
<div class="highlight-bash"><div class="highlight"><pre>wget https://github.com/perfsonar/psconfig-web/raw/master/deploy/docker/psconfig-web.sample.tar.gz
sudo tar -C /etc -xvf psconfig-web.sample.tar.gz psconfig-web <span class="o">&amp;&amp;</span> sudo tar -C /usr/local/sbin --strip-components<span class="o">=</span>1 -xvf psconfig-web.sample.tar.gz scripts
</pre></div>
</div>
<div class="section" id="other-topics">
<h3>Other Topics<a class="headerlink" href="#other-topics" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="pwa_monitoring">Monitoring / Testing</a></li>
<li>PWA provides a developer API &#8211; see the <a class="reference external" href="pwa_api">API DOC</a></li>
</ul>
</div>
<div class="section" id="reference">
<h3>Reference<a class="headerlink" href="#reference" title="Permalink to this headline">¶</a></h3>
<p>Meshconfig parameters
<a class="reference external" href="http://docs.perfsonar.net/config_mesh.html">http://docs.perfsonar.net/config_mesh.html</a></p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <nav id="channelNav" class="channelNav">
                
                <ul>
<li><a class="reference internal" href="#">Docker Installation</a><ul>
<li><a class="reference internal" href="#vm-host">VM Host</a></li>
<li><a class="reference internal" href="#docker-engine">Docker Engine</a></li>
<li><a class="reference internal" href="#sample-configuration">Sample Configuration</a><ul>
<li><a class="reference internal" href="#other-topics">Other Topics</a></li>
<li><a class="reference internal" href="#reference">Reference</a></li>
</ul>
</li>
</ul>
</li>
</ul>

                <ul>
                  <li>
                  <a href="pwa_install_rpm.html">Previous topic</a>
                  <ul><li><a href="pwa_install_rpm.html" title="previous chapter">PWA RPM Installation</a></li></ul>
                  </li>
                </ul>
                  <ul>
                      <li>
                      <a href="pwa_configure.html">Next topic</a>
                      <ul><li><a href="pwa_configure.html" title="next chapter">Configuration</a></li></ul>
                      </li>
                  </ul>
                
                
            </nav>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="pwa_configure.html" title="Configuration"
             >next</a> |</li>
        <li class="right" >
          <a href="pwa_install_rpm.html" title="PWA RPM Installation"
             >previous</a> |</li>
        <li><a href="index.html">perfSONAR Toolkit 4.2.2 documentation</a> &raquo;</li>
          <li><a href="pwa.html" >pSConfig Web Admin</a> &raquo;</li> 
      </ul>
    </div>
    <footer id="fat">
        <div class="footerContents">
            <nav id="fatFooterNav" class="fatFooterNav">
                <ul id="menu-partners" class="menu depth-0">
                    <li id="footer-partner-text" class="partner-menu">
                        perfSONAR 
                        <br>
                        partners 
                        <br>
                        include: 
                    </li>
    
                <li id="footer-partner-esnet" class="partner-menu">
                    <a href="http://www.es.net/" title="Visit DOE's Energy Sciences Network"><img src="_static/ESnet-ps.png" alt="" style="border:none;"></a> </li>
                
                <li id="footer-partner-geant" class="partner-menu">
                    <a href="http://www.geant.org/" title="Visit GEANT"><img src="_static/geant-ps.png" alt="" style="border:none;"/></a> </li>
        
                <li id="footer-partner-iu" class="partner-menu">
                    <a href="http://www.iu.edu/" title="Visit Indiana University"><img src="_static/IU-ps.png" alt="" style="border:none;"></a> </li>

                <li id="footer-partner-i2" class="partner-menu">
                    <a href="http://www.internet2.edu/" title="Visit Internet2"><img src="_static/I2-ps.png" alt="" style="border:none;"></a> </li>
                
                <li id="footer-partner-um" class="partner-menu">
                    <a href="http://www.umich.edu/" title="Visit University of Michigan"><img src="_static/UM-ps.png" alt="" style="border:none;"></a> </li>

                </ul>

            </nav>
            <nav id="minFooterNav" class="minFooterNav">
                <span class="copyright">PERFormance Service Oriented Network monitoring ARchitecture </span>
            </nav>
          
        </div> <!-- /footerContents -->
    </footer>
    
    <div class="footer">
        &copy; Copyright 2019, perfSONAR Project.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.3.
    </div>
  </body>
</html>